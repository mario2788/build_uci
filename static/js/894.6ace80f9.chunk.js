"use strict";(self.webpackChunkcoc_ui=self.webpackChunkcoc_ui||[]).push([[894],{3894:function(t,e,n){n.r(e),n.d(e,{default:function(){return Se}});var r=n(4165),a=n(5861),i=n(2791),o=n(4554),c=n(1889),l=n(4880),s=n(3809),d=n(9446),u=n(9689),p=n(4993),f=n(1379),m=n(8219),h=n(885),x=n(9373),g=n(4038),v=n(5910),y=n(4904),j=n(184),b=function(t){var e=(0,g.A)(),n=(0,i.useState)({value:0}),r=(0,h.Z)(n,2),a=r[0],l=r[1];return{tabObj:function(){return(0,j.jsx)(o.Z,{mt:1,px:1,py:1,className:e.bg_white,children:(0,j.jsx)(c.ZP,{container:!0,direction:"row",wrap:"nowrap",spacing:1,coloumns:21,children:["DASHBOARD","LABORATORIO","IMAGENES","RESPIRATORIO","ENFERMER\xcdA","BALANCE","HISTORIA"].map((function(t,n){return(0,j.jsx)(c.ZP,{item:!0,xs:3,style:{display:"flex"},children:(0,j.jsx)(x.Z,{variant:"contained",color:"primary",fullWidth:!0,className:[n===a.value?e.bg_white:e.bg_blue,e.button_tab].join(" "),onClick:function(){!function(t){l({value:t})}(n)},children:n===a.value?(0,j.jsx)(y.g,{color:"blue",children:t}):(0,j.jsx)(v.D,{color:"white",children:t})})},n)}))})})},tabIndex:a.value}},w=n(1413),C=function(t){var e=t.stl;return(0,j.jsxs)(o.Z,{mt:1,className:e.bg_white,spacing:1,children:[(0,j.jsx)(o.Z,{className:e.bg_blue,pl:2,py:1,children:(0,j.jsx)(y.g,{color:"white",children:t.title})}),(0,j.jsx)(o.Z,{className:[e.px,e.py].join(" "),children:t.children})]})},Z=n(2731),P=n(4919),k=function(t){for(var e=0,n=0;n<t.length;n++)e=(e*n+t[n][0])/(n+1);return e.toFixed(1)},F=function(t){var e=t.data,n=i.useRef(null),r=(0,P.z)(),a=r._xl,o=r._lg;return(0,i.useEffect)((function(){!function(t){var e=t.data,n=t.svgRef,r=t._xl,a=t._lg,i="rgba(0, 91, 165, 1)",o=function(t){return new Date((new Date).toLocaleString().split(",")[0].split("/").reverse().join("-")+t)},c=e.array.sort((function(t,e){return t[1].split(":")[0]-e[1].split(":")[0]})).map((function(t){return[t[0],o(" ".concat(t[1],":00")),t[1]]})),l=k(e.array),s={top:11,right:r?35:a?25:20,bottom:r?24:a?21:20,left:a?30:12,m:20,offSetY:a?30:18},d=r?"14px":a?"11px":"9px",u=Z.Ys(n.current);u.selectAll("*").remove();var p=u._groups[0][0].clientWidth,f=u._groups[0][0].clientHeight,m=u.append("g").attr("width","".concat(p)).attr("height","".concat(f)),h=Z.Xf().domain([o(" 00:00:00"),o(" 23:59:00")]).range([s.left+s.m,p-s.right]).nice();m.append("g").attr("transform","translate(0, ".concat(f-s.bottom,")")).call(Z.LLu(h).ticks(6)).attr("font-size",d).attr("color",i).attr("opacity","0.85").selectAll("text").attr("transform","rotate(17,0,15)").attr("style","font-size:".concat(d,"; font-family: Montserrat !important"));var x=Z.BYU().domain(Z.Wem(c,(function(t){return t[0]})).reverse().map((function(t,e){return 0===e?t+l/10:t-l/10}))).range([s.top,f-s.bottom]),g=Z.y4O(x).tickSizeOuter(0).ticks(4,"a").tickSizeInner(-p+s.right+s.m+s.left);m.append("g").attr("transform","translate(".concat(s.left+s.m," ,0)")).call(g).attr("font-family","Montserrat").attr("font-size",d).attr("color",i).call((function(t){return t.selectAll(".tick line").attr("stroke-opacity",.4).attr("stroke-dasharray","2,3")})),m.append("g").selectAll("rect").data([[o(" 00:00:00"),o(" 06:00:00"),"#CCCBF5"],[o(" 06:00:00"),o(" 18:00:00"),"#C0F5E1"],[o(" 18:00:00"),o(" 23:59:00"),"#CCCBF5"]]).enter().append("rect").attr("x",(function(t){return h(t[0])})).attr("y",s.top).attr("height",f-s.bottom-8).attr("width",(function(t){return h(t[1])-h(t[0])})).attr("fill",(function(t){return t[2]})).attr("opacity",.6),m.append("path").datum(c).attr("fill","none").attr("stroke",i).attr("stroke-width",.8).attr("d",Z.jvg().x((function(t,e){return h(t[1])})).y((function(t){return x(t[0])}))),m.selectAll("circle").data(c).enter().append("circle").attr("fill",i).attr("stroke","none").attr("cx",(function(t,e){return h(t[1])})).attr("cy",(function(t){return x(t[0])})).attr("r",3);var v=m.append("g").append("circle").style("fill","none").attr("stroke",i).attr("r",4.5).style("opacity",0),y=m.append("g").append("text").style("opacity",0).attr("text-anchor","left").attr("alignment-baseline","middle").attr("font-family","Montserrat").attr("fill",i);m.append("rect").style("fill","none").style("pointer-events","all").attr("x",s.left).attr("y",s.top).attr("width",p-s.right-s.left).attr("height",f-s.bottom).on("mousemove",(function(t){return b(t)})).on("mouseover",(function(){v.style("opacity",1),y.style("opacity",1)})).on("mouseout",(function(){v.style("opacity",0),y.style("opacity",0)}));var j=c.map((function(t){return t[1].getTime()})),b=function(t){var e=h.invert(Z.cx$(t)[0]),n=j.findIndex((function(t){return Math.abs(t-e.getTime())<95e4}))>=0?j.findIndex((function(t){return Math.abs(t-e.getTime())<95e4})):12;n>=c.length||(v.attr("cx",h(c[n][1])).attr("cy",x(c[n][0])),y.text("".concat(c[n][0]," - ").concat(c[n][1].toLocaleString().split(", ")[1].split(":").reduce((function(t,e,n,r){return"".concat(r[0],":").concat(r[1]).concat(r[2].split(" ")[1].replace(/[. ]/g,""))}))," ")).attr("x",s.left+s.m).attr("y",s.top-1))}}({data:e,svgRef:n,_xl:a,_lg:o})}),[e,n,a,o]),(0,j.jsx)("svg",{ref:n,width:"100%",height:a?"142":"100"})},S=function(t){var e=t.data;return(0,j.jsx)(o.Z,{children:(0,j.jsxs)(c.ZP,{container:!0,spacing:1,children:[(0,j.jsxs)(c.ZP,{item:!0,xs:2,container:!0,direction:"column",justifyContent:"flex-start",alignItems:"center",children:[(0,j.jsx)(v.D,{children:e.units}),(0,j.jsx)(v.D,{children:k(e.array)})]}),(0,j.jsx)(c.ZP,{item:!0,xs:10,children:(0,j.jsx)(o.Z,{children:(0,j.jsx)(F,{data:e})})})]})})},A=n(6125),_=n(2982),M=function(t){var e=t.data,n=t.n,r=(0,P.z)(),a=r._xl,o=r._lg,c=i.useRef(null);return(0,i.useEffect)((function(){L(c,e,n,a,o)}),[e,n,a,o]),(0,j.jsx)("svg",{ref:c,width:"100%",height:a?"322":o?"258":"221"})},L=function(t,e,n,r,a){var i=Z.Ys(t.current);i.selectAll("*").remove();var o=10,c=2,l=15,s=2,d="rgba(0, 91, 165, 1)",u=r?20:a?18:15,p=i._groups[0][0].clientWidth-s-c,f=i._groups[0][0].clientHeight-o-l,m=i.append("g").attr("width","".concat(p)).attr("height","".concat(f)),h=Math.PI,x=2*h/n,g=function(t){return Math.cos(t)},v=function(t){return Math.sin(t)},y=20*h/180,j=.65,b=r?45:a?30:15,w=(p-b*s-b*c)/2,C=r?"22px":a?"16px":"12px",P=r?"25px":a?"19px":"15px",k=p/2,F=f/2,S=function(t){return w*g(t*x)+k},A=function(t){return w*v(t*x)+F},M=(0,_.Z)(Array(n)).map((function(t,n){var r=Z.BYU().domain(e[n].dom).range([w/3,w]),a=Z.BYU().domain(e[n].dom).range(e[n].color),i=e[n].value<e[n].dom[0]?r(e[n].dom[0]):e[n].value>e[n].dom[1]?r(e[n].dom[1]):r(e[n].value),o=[];o.push([k,F]),o.push([k+j*i*g(y+x*n),F+j*i*v(y+x*n)]),o.push([k+i*g(x*n),F+i*v(x*n)]),o.push([k+j*i*g(x*n-y),F+j*i*v(x*n-y)]);var c=a(e[n].value<e[n].dom[0]?e[n].dom[0]:e[n].value>e[n].dom[1]?e[n].dom[1]:e[n].value);return m.append("polygon").attr("fill",c).attr("stroke",c).attr("stroke-width",3).attr("points",Z.WFE(o)),m.append("text").text((function(t){return e[n].value})).attr("x",o[2][0]).attr("y",(function(t,e){return o[2][1]>F?o[2][1]+u:o[2][1]})).attr("font-family","Montserrat").attr("font-size",C).attr("fill",d).attr("text-anchor",(function(t,e){return o[2][0],"start"})),[S(n),A(n)]}));m.append("polygon").attr("fill","none").attr("stroke",d).attr("stroke-width",r?2:1).attr("points",Z.WFE(M)).attr("stroke",d);var L=function(t,e,n){document.getElementById("".concat(e.name,"_id")).innerHTML=n?e.name:""};m.selectAll(null).data(e).enter().append("text").text((function(t){return t.name.slice(0,3)})).attr("x",(function(t,e){return S(e)})).attr("y",(function(t,e){return A(e)})).attr("font-family","Montserrat").attr("text-anchor",(function(t,e){return S(e)<=k?"end":"start"})).attr("font-size",C).attr("fill",d),m.selectAll(null).data(e).enter().append("text").attr("id",(function(t,e){return"".concat(t.name,"_id")})).attr("x",p/2).attr("y",f).attr("font-family","Montserrat").attr("font-size",P).attr("fill",d).attr("text-anchor","middle"),i.append("g").attr("width","".concat(p)).attr("height","".concat(f)).selectAll("rect").data(e).enter().append("rect").attr("height",25).attr("width",40).attr("fill","red").attr("opacity",0).attr("x",(function(t,e){return S(e)-20})).attr("y",(function(t,e){return A(e)-15})).on("mouseover",(function(t,e){return L(0,e,!0)})).on("mouseout",(function(t,e){return L(0,e,!1)})),m.selectAll("line").data(M).enter().append("line").attr("fill",d).attr("stroke",d).attr("stroke-width",r?1.5:.5).attr("x1",k).attr("y1",F).attr("x2",(function(t){return t[0]})).attr("y2",(function(t){return t[1]}))},I=function(t){var e=t.stl,n=t.data,r=e,a=[r.bg_blue_sindromatico,r.px_0].join(" ");return(0,j.jsxs)(o.Z,{children:[(0,j.jsx)(o.Z,{className:a,children:(0,j.jsxs)(v.D,{color:"white",children:[n.title," Cl\xednico"]})}),(0,j.jsx)(o.Z,{className:r.py,children:(0,j.jsx)(M,{data:n.clinico,n:n.clinico.length})}),(0,j.jsx)(o.Z,{className:a,children:(0,j.jsxs)(v.D,{color:"white",children:[n.title," Laboratorio"]})}),(0,j.jsx)(o.Z,{className:r.py,children:(0,j.jsx)(M,{data:n.laboratorio,n:n.laboratorio.length})})]})},D=n(8130),E=function(t){var e=t.stl,n=t.title,r=t.data,a=e,l=(0,P.z)(),s=l._xl,d=l._lg,u=(0,i.useState)(!1),p=(0,h.Z)(u,2),f=p[0],m=p[1],g=(0,i.useState)({value:0}),v=(0,h.Z)(g,2),b=v[0],C=v[1],Z=function(){var t={fontSize:s?"22px":d?"16px":"12px",fontFamily:"Montserrat",border:"1px solid rgb(20,20,20)",paddingInline:"0.5rem",paddingBlock:"0.1rem",marginLeft:"0.5rem",borderRadius:"5px",fontWeight:"500",display:"grid",justifyItems:"stretch",textAlign:"center"};return[["Rojo","#E9312A","Grave"],["Amarillo","#FFFD67","Atenci\xf3n"],["Naranja","#F1A147","Anormal"],["Verde","#53AC62","Normal"]].map((function(e,n){return(0,j.jsx)("div",{style:{marginBlock:"0.5rem",width:"100%"},children:(0,j.jsxs)("span",{style:(0,w.Z)((0,w.Z)({},t),{},{background:e[1]}),children:[e[0]," : ",e[2]]})},n)}))};return(0,j.jsxs)(o.Z,{mt:1,className:a.bg_white,children:[(0,j.jsxs)(c.ZP,{container:!0,children:[(0,j.jsx)(c.ZP,{item:!0,xs:9,children:(0,j.jsx)(o.Z,{className:[a.bg_blue].join(" "),py:1,pl:1,children:(0,j.jsx)(y.g,{color:"white",children:n})})}),(0,j.jsx)(c.ZP,{item:!0,xs:3,className:[a.bg_blue,a.px_0].join(" "),children:(0,j.jsx)(x.Z,{onClick:function(){m(!f)},className:a.px_0,fullWidth:!0,children:(0,j.jsx)("svg",{width:"64",height:s?"28":d?"23":"18",viewBox:"0 -2 22 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,j.jsx)("path",{d:"M0.637178 4.52043L9.32358 15.0835C9.54991 15.3592 9.82455 15.5766 10.1294 15.7215C10.4343 15.8663 10.7624 15.9353 11.0921 15.9237C11.4219 15.9122 11.7458 15.8206 12.0424 15.6547C12.339 15.4889 12.6017 15.2527 12.813 14.9617L20.4812 4.39863C20.7656 4.00731 20.947 3.53088 21.0041 3.02532C21.0611 2.51977 20.9915 2.00604 20.8033 1.54434C20.6152 1.08264 20.3163 0.692123 19.9418 0.41866C19.5672 0.145197 19.1326 0.000163579 18.6888 0.000451691L2.37658 0.000451691C1.91722 -0.00923542 1.46559 0.137083 1.07832 0.42104C0.69105 0.704997 0.385376 1.11399 0.199621 1.59669C0.0138664 2.0794 -0.0437031 2.61435 0.0341358 3.13449C0.111975 3.65462 0.321758 4.1367 0.637178 4.52043Z",fill:"white"})})})})]}),(0,j.jsx)(A.Z,{in:f,timeout:"auto",unmountOnExit:!0,children:r.map((function(t,e){return(0,j.jsx)(x.Z,{fullWidth:!0,onClick:function(){!function(t){m(!f),C({value:t})}(e)},className:[a.px,a.font_monserrat,a.text_color_title].join(" "),children:(0,j.jsx)(D.x,{children:t.key})},e)}))}),(0,j.jsxs)(o.Z,{className:[a.px,a.py].join(" "),children:[(0,j.jsx)(I,{stl:a,data:r[b.value].obj}),(0,j.jsx)(Z,{})]})]})},O=function(t,e,n,r,a,i){var o="rgba(0, 91, 165, 1)",c=Z.Ys(n.current),l=Z.Ys(r.current);c.selectAll("*").remove(),l.selectAll("*").remove();for(var s=c._groups[0][0].clientWidth,d=c._groups[0][0].clientHeight,u={top:30,right:a?75:i?60:45,bottom:1,left:2,m:2,offsetLeft:a?240:i?180:130,offsetX:a||i?.1:-.1,offsety:a?2:i?2.5:3,offSetMedicamentos:a?175:i?140:100,heightFila:a?35:i?30:24,widthMarca:a?45:i?40:35,py:a?5:3},p=[],f=a?"22px":i?"16px":"12px",m=a?"25px":i?"20px":"14px",h=a?"22px":i?"16px":"12px",x=0;x<=24;x+=4)x<10?p.push("0".concat(x,":00")):p.push("".concat(x,":00"));var g=Z.Wem(p,(function(t){return t})),v=Z.BYU().domain([parseInt(g[0]),parseInt(g[1])]).range([u.offsetLeft+u.offSetMedicamentos,s-u.right]),y=Z.BYU().domain([0,t.length]).range([u.top,t.length*u.heightFila-u.bottom]),j=[];t.forEach((function(e,n){var r=!0;t.slice(n+1).forEach((function(t){e.categoria===t.categoria&&(r=!1)})),r&&j.push(e.categoria)}));var b=[];j.forEach((function(e){var n=0;t.forEach((function(t){e===t.categoria&&n++})),b.push(n)}));var w=[];j.forEach((function(e){t.forEach((function(t){t.categoria===e&&w.push(t.medicamento)}))}));var C=c.append("g");C.selectAll(null).data(j).enter().append("text").text((function(t,e){var n=t.split(" ");if(n.length>1){var r=e+1;return 0!==e&&(r=b.slice(0,e).reduce((function(t,e){return t+e}))+1),function(t,e,n,r){C.selectAll(null).data(t).enter().append("text").text((function(t){return t})).attr("x",n).attr("y",y(r)).attr("font-family","Montserrat").attr("font-size",m).attr("font-weight",e).attr("fill",o).attr("id","secondLine")}([n[1]],"bold",u.left,r),n[0]+"-"}return t})).attr("x",u.left).attr("y",(function(t,e){return y(0===e?0:b.slice(0,e).reduce((function(t,e){return t+e})))})).attr("font-family","Montserrat").attr("font-size",m).attr("font-weight","bold").attr("fill",o).on("mousewheel",(function(){return console.log("wheel")})),C.selectAll(null).data(w).enter().append("text").text((function(t,e){return function(t){var e=t.split(" ");return e.length>1?e[0]+" "+e[1].slice(0,4)+".":t}(t)})).attr("x",u.offSetMedicamentos).attr("y",(function(t,e){return y(e)})).attr("font-family","Montserrat").attr("font-size",h).attr("font-weight","normal").attr("fill",o),C.selectAll(null).data(t).enter().append("line").attr("x1",v(0)).attr("y1",(function(t,e){return y(e)-5})).attr("x2",v(24)+u.widthMarca).attr("y2",(function(t,e){return y(e)-5})).attr("stroke-width",u.heightFila-(a?10:9)).attr("stroke","#B5DCE5").attr("stroke-linecap","round");var P=[];t.forEach((function(n,r){var a=t.find((function(t){return t.medicamento===w[r]})),i=e[0]-a.date.getDate()+30*(e[1]-a.date.getMonth()-1);P.push([]);var o=0,c=0;if(0!==a.intervaloValue&1!==a.intervaloValue&i>=0)do{(c=o*a.intervaloValue)>24*i-24&i>=0&&P[r].push((c+a.date.getHours())%24),o+=1}while(c<=24*i);else i>=0&&P[r].push(1===a.intervaloValue?"".concat(a.intervaloValue,"  ").concat(a.intervaloUnit.replace(/ /g,"")):a.intervaloUnit.replace(/ /g,""))}));var k=c.append("g").attr("id","body");P.forEach((function(t,e){k.selectAll(null).data(t).enter().append("line").attr("x1",(function(t){return isNaN(t)?v(0+u.offsetX):v(t+u.offsetX)})).attr("y1",(function(t,n){return y(e)-5})).attr("x2",(function(t){return isNaN(t)?v(m.split("px")[0]*t.length*.035+u.offsetX):v(t+2)})).attr("y2",(function(t,n){return y(e)-5})).attr("stroke-width",u.heightFila-(a?10:9)).attr("stroke","#005BA5").attr("stroke-linecap","round"),k.selectAll(null).data(t).enter().append("text").text((function(t){return isNaN(t)?t:t<10?"0".concat(t,":00"):"".concat(t,":00")})).attr("x",(function(t){return isNaN(t)?v(t.length*f.split("px")[0]*(a?.009:i?.0055:.001)+u.offsetX):v(parseInt(t)+.2+u.offsetX)})).attr("y",(function(t){return y(e+(a?.18:.1))-u.offsety})).attr("font-family","Montserrat").attr("font-size",f).attr("font-weight","normal").attr("fill","#FFFFFF").attr("text-anchor","center"),k.selectAll(null).data(t).enter().append("line").attr("x1",(function(t){return isNaN(t)?v(0+u.offsetX):v(t+u.offsetX)})).attr("y1",(function(t,n){return y(e)-5})).attr("x2",(function(t){return isNaN(t)?v(t.length*f.split("px")[0]*(a||i?.04:.05)+u.offsetX):v(t+2)})).attr("y2",(function(t,n){return y(e)-5})).attr("stroke-width",u.heightFila-(a?10:9)).attr("stroke","transparent").attr("stroke-linecap","round").on("mouseover",(function(t){return A(t,e)})).on("mouseout",(function(){F.style("display","none"),S.style("display","none")}))}));var F=k.append("g").append("rect").attr("height",parseInt(m.split("px")[0])*(a?3.5:4)).attr("width",50).attr("fill","#005BA5").attr("rx",8).attr("ry",8).attr("stroke","cadetblue").attr("stroke-width",2).style("display","none"),S=k.append("g").selectAll(null).data(new Array(3)).enter().append("text").attr("font-family","Montserrat").attr("font-size",m).attr("font-weight","normal").attr("fill","#FFFFFF").attr("align","center").style("display","block"),A=function(e,n){var r,a,i,o,c,l,s,d,p,f,h,x,g=parseInt(null===e||void 0===e||null===(r=e.originalTarget)||void 0===r||null===(a=r.attributes)||void 0===a||null===(i=a.x1)||void 0===i?void 0:i.nodeValue)||parseInt(null===e||void 0===e||null===(o=e.toElement)||void 0===o||null===(c=o.attributes)||void 0===c||null===(l=c.x1)||void 0===l?void 0:l.value),v=parseInt(null===e||void 0===e||null===(s=e.originalTarget)||void 0===s||null===(d=s.attributes)||void 0===d||null===(p=d.y1)||void 0===p?void 0:p.nodeValue)||parseInt(null===e||void 0===e||null===(f=e.toElement)||void 0===f||null===(h=f.attributes)||void 0===h||null===(x=h.y1)||void 0===x?void 0:x.value),j=[],b=t.find((function(t){return t.medicamento===w[n]}));j.push(b.medicamento),j.push(0===b.intervaloValue||1===b.intervaloValue?1===b.intervaloValue?"".concat(b.intervaloValue," ").concat(b.intervaloUnit.replace(/ /g,"")):b.intervaloUnit.replace(/ /g,""):"Cada ".concat(b.intervaloValue," ").concat(b.intervaloUnit.replace(/ /g,""))),j.push("Dosis de ".concat(b.dosisValue," ").concat(b.dosisUnit));var C=0;j.forEach((function(t){return C=t.length>C?t.length:C})),C=parseInt(m.split("px")[0])*C*.62,F.attr("x",g-C-5).attr("y",y(n)-30).attr("width",C).style("display","block"),S.text((function(t,e){return j[e]})).attr("x",g-C-1).attr("y",(function(t,e){return e*u.heightFila*.6-y(n)+2*v})).style("display","block")},_=l.append("g");_.append("rect").attr("x",u.rigth).attr("y",20).attr("width","".concat(s)).attr("height","".concat(d)).attr("fill","white"),_.selectAll(null).data(p).enter().append("text").text((function(t,e){return t})).attr("x",(function(t,e){return v(4*e)})).attr("y",20).attr("font-family","Montserrat").attr("font-size",f).attr("fill",o)},H=function(t){var e=t.data,n=t.date,r=(0,P.z)(),a=r._xl,c=r._lg,l=i.useRef(null),s=i.useRef(null);return(0,i.useEffect)((function(){O(e,n,l,s,a,c)}),[e,n,l,s,a,c]),(0,j.jsxs)("div",{children:[(0,j.jsx)(o.Z,{style:{maxHeight:a?"180px":c?"175px":"110px",overflowY:"scroll",scrollBehavior:"smooth"},children:(0,j.jsx)("svg",{ref:l,width:"100%",height:e.length*(a?35:c?30:25)})}),(0,j.jsx)("svg",{ref:s,width:"100%",height:"30"})]})},T=n(3457),z=[["#E0F1FF","#026FCA"],["#D4FFFA","#009C8A"],["#C1FFE0","#008C45"],["#D4FFFA","#009C8A"],["#E0F1FF","#026FCA"]],N=(0,T.Z)("div")({width:"auto",height:"min-content",borderRadius:"0.3rem",paddingBlock:"0.2rem",paddingInline:"0.5rem",fontFamily:"Montserrat"}),B=(0,T.Z)("span")({fontWeight:"700"}),R=(0,T.Z)("span")({fontWeight:"500"}),V=(0,T.Z)("span")({fontWeight:"400"}),U=(0,T.Z)("div")({fontWeight:"300",paddingLeft:"1.1rem"}),Y=function(t){var e=t.title,n=void 0===e?"TLP":e,r=t.value,a=void 0===r?"100":r,i=t.unids,o=void 0===i?"xx":i,c=t.tendencia,l=void 0===c?"5":c,s=t.prom,d=void 0===s?"0":s,u=(0,P.z)(),p=u._xl,f=u._lg;return(0,j.jsxs)(N,{style:function(){var t=Math.floor(5*Math.random());return{border:"0.13rem solid ".concat(z[t][1]),background:"".concat(z[t][0]),color:"".concat(z[t][1]),fontSize:p?"22px":f?"16px":"11px"}}(),children:[(0,j.jsxs)("div",{style:{width:"max-content"},children:[(0,j.jsxs)(B,{children:[n,":"]}),(0,j.jsxs)(R,{children:[" "+a," "+o]})]}),(0,j.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-around",alignItems:"center"},children:[(0,j.jsxs)("div",{children:[(0,j.jsx)(V,{children:"Tendencia:"}),(0,j.jsx)(U,{children:"".concat(l," ").concat(o,"/h")})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)(V,{children:"Promedio:"}),(0,j.jsx)(U,{children:"".concat(d," ").concat(o)})]})]})]})},W=n(3191),G=n(6392),J=function(t){var e=t.reduce((function(t,e,n){return t+(parseFloat(e[0])?parseFloat(e[0]):t/(n+1))}),0)/t.length,n=t.reverse()[t.length-1][0],r=function(t){return t>1?parseFloat(t).toFixed(1):parseFloat(t).toFixed(3)};return[r(t?function(e){var n=e.slice(t.length-5).reverse();return 1e3*(n[2][0]-n[0][0])*60*60/parseFloat(new Date(n[2][1]).getTime()-new Date(n[0][1]).getTime())}(t):0),r(t?e:0),r(t?n:0),(0,_.Z)(t.slice(0).reverse())]},X=n(7191),q=function t(e,n,r,a,i){var o="".concat(e[2],"-").concat((0,G.r)(e[1]),"-").concat((0,G.r)(e[0])),c=X.b0.urlServer,l=X.b0.requestOptionsGet;fetch("".concat(c,"Observation?identifier=").concat(o).concat(n,"&identifier=VentSupport_epochs_").concat(r,"&subject=").concat(r),l).then((function(t){t.text().then((function(t){var e=JSON.parse(t);if(e.total>0){var n=e.entry.map((function(t){return{name:t.resource.identifier[1].value,body:t.resource.component.map((function(t){return{name:t.code.text,data:JSON.parse(t.valueString)}}))}})),r=n.find((function(t){return"metricas"===t.name})).body.map((function(t){return{name:t.name,data:(0,_.Z)(J(t.data))}}));a([].concat((0,_.Z)(r),(0,_.Z)(n.filter((function(t){return"metricas"!==t.name})))))}else a([]),i("Sin datos del respirador")}))})).catch((function(n){console.log("Error en getData de Ventilacion \n",n),t(e,r,a,i)}))},K=n(7965),Q=function(t){var e=t.stl,n=t.dt,l=e,s=(0,h.Z)(n,2),d=s[0],u=s[1],p=(0,i.useState)([]),f=(0,h.Z)(p,2),m=f[0],x=f[1],g=(0,i.useState)("Recuperando informaci\xf3n"),v=(0,h.Z)(g,2),y=v[0],b=v[1];(0,i.useEffect)((function(){b("Recuperando informaci\xf3n");var t=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:q(u,(0,K.u)("lastHour"),d,x,b);case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[u,d]);return(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(o.Z,{className:l.px,children:(0,j.jsxs)(c.ZP,{container:!0,spacing:1,children:[m.length>0&&[["FIO2","FIO2"," "],["respir_rate","Rate","LPM"],["mean_press","MeanP","cmH2O"],["PEEP","PEEP","cmH2O"],["peakP","PeakP","cmH2O"],["tidal_volume_set_334","VT","ml"],["power","Power","J"],["inspTV","Insp.TV","ml"]].map((function(t,e){var n=m.find((function(e){return e.name===t[0]}));return(0,j.jsx)(c.ZP,{item:!0,xs:3,align:"center",children:(0,j.jsx)(Y,{title:t[1],value:n.data[2],unids:t[2],tendencia:n.data[0],prom:n.data[1]})},e)})),!(m.length>0)&&(0,j.jsx)(W.D,{children:y})]})})})},$=n(8515),tt=X.b0.urlServer,et=X.b0.requestOptionsGet,nt=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(e,n,a){var i,o,c,l,s,d,u;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(tt,"MedicationDispense?subject=").concat(e),(0,$.Z)(et));case 2:return i=t.sent,t.next=5,i.json();case 5:if(o=t.sent,c=o.entry,l=o.total,!(o.link.length>1)){t.next=17;break}return t.next=12,fetch("".concat(tt,"MedicationDispense?_count=").concat(l,"&subject=").concat(e),(0,$.Z)(et));case 12:return s=t.sent,t.next=15,s.json();case 15:d=t.sent,c=d.entry;case 17:l>0&&(u=c.map((function(t){var e={};return e.categoria=t.resource.category.text,e.medicamento=t.resource.medicationReference.display,e.intervaloValue=t.resource.daysSupply.value,e.intervaloUnit=t.resource.daysSupply.unit,e.date=new Date(t.resource.whenHandedOver),e.dosisValue=t.resource.quantity.value,e.dosisUnit=t.resource.quantity.unit,e})),a((0,_.Z)(u)));case 20:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),rt="#53AC62",at="#FFFD67",it="#F1A147",ot="#E9312A",ct={PAM:{name:"PAM",value:0,dom:[75,25],color:[ot,it,at,rt,at,it,ot]},PAS:{name:"PAS",value:0,dom:[75,125],color:[ot,it,at,rt,at,it,ot]},Conciencia:{name:"Conciencia",value:0,dom:[1,11],color:[ot,at,it,rt]},"Perf.cut.":{name:"Perf.cut.",value:0,dom:[1,5],color:[rt,it,ot]},"F.Cardiaca":{name:"F.Cardiaca",value:0,dom:[70,120],color:[ot,it,at,rt,at,it,ot]},"Sat-periferica":{name:"Sat-periferica",value:0,dom:[75,100],color:[ot,it,at,rt,at,it,ot]},PCR:{name:"PCR",value:0,dom:[1,10],color:[ot,at,it,rt]},Lactato:{name:"Lactato",value:0,dom:[1.5,2.5],color:[ot,at,it,rt]},"Sat.ven.cen":{name:"Sat.ven.cen",value:0,dom:[1,10],color:[ot,at,it,rt]},Hemograma:{name:"Hemograma",value:0,dom:[1,10],color:[ot,at,it,rt]},Procalcitonina:{name:"Procalcitonina",value:0,dom:[1,10],color:[ot,at,it,rt]},Glicemia:{name:"Glicemia",value:0,dom:[1,10],color:[ot,at,it,rt]},"Sat.perife.":{name:"Sat.perife.",value:0,dom:[75,100],color:[ot,it,at,rt]},"Var.pulso":{name:"Var.pulso",value:0,dom:[75,100],color:[ot,it,at,rt]},"Bal.hidri":{name:"Bal.hidri",value:0,dom:[50,1e3],color:[ot,it,at,rt]},Hematocrito:{name:"Hematocrito",value:0,dom:[1,10],color:[ot,at,it,rt]},DeltaCO2:{name:"DeltaCO2",value:0,dom:[1,10],color:[ot,at,it,rt]},Troponina:{name:"Troponina",value:0,dom:[1,10],color:[ot,at,it,rt]},"CK-CKMB":{name:"CK-CKMB",value:0,dom:[1,10],color:[ot,at,it,rt]},"Ind.Cardiaco":{name:"Ind.Cardiaco",value:0,dom:[1,10],color:[ot,at,it,rt]},PH:{name:"PH",value:0,dom:[6,10],color:[ot,at,it,rt]},PO2:{name:"PO2",value:0,dom:[3,10],color:[ot,at,it,rt]},PCO2:{name:"PCO2",value:0,dom:[5,10],color:[ot,at,it,rt]},HCO3:{name:"HCO3",value:0,dom:[8,10],color:[ot,at,it,rt]},"Frec.Resp":{name:"Frec.Resp",value:0,dom:[40,120],color:[ot,it,at,rt,at,it,ot]},"Uso.Musc.Acces":{name:"Uso.Musc.Acces",value:0,dom:[75,125],color:[ot,it,at,rt,at,it,ot]},"Perf.Cutanea":{name:"Perf.Cutanea",value:0,dom:[1,11],color:[ot,at,it,rt]},"Sig.Pulmo":{name:"Sig.Pulmo",value:0,dom:[35,42],color:[ot,it,rt,it,ot]},"Sat.Perife":{name:"Sat.Perife",value:0,dom:[75,100],color:[ot,it,at,rt]},"Fracc.InspO2-FIO2":{name:"Fracc.InspO2-FIO2",value:0,dom:[1,10],color:[ot,at,it,rt]},"Volum.Corrie":{name:"Volum.Corrie",value:0,dom:[1,10],color:[ot,at,it,rt]},"Pres.Fin.Espir":{name:"Pres.Fin.Espir",value:0,dom:[1,10],color:[ot,at,it,rt]},PAFI:{name:"PAFI",value:0,dom:[1,10],color:[ot,at,it,rt]},IOX:{name:"IOX",value:0,dom:[1,10],color:[ot,at,it,rt]},"Relac-VC.FC":{name:"Relac-VC.FC",value:0,dom:[1,10],color:[ot,at,it,rt]},Perfusion:{name:"Perfusion",value:0,dom:[1,5],color:[rt,it,ot]},Temperatura:{name:"Temperatura",value:0,dom:[34.5,42],color:[ot,it,rt,it,ot]},Saturacion:{name:"Saturacion",value:0,dom:[75,100],color:[ot,it,at,rt]},"Bal.Hidrico":{name:"Bal.Hidrico",value:0,dom:[50,1e3],color:[ot,it,at,rt,at,it,ot]},"Debit.Urina":{name:"Debit.Urina",value:0,dom:[20,800],color:[ot,it,at,rt,at,it,ot]},"Gasom.Ater-PO2":{name:"Gasom.Ater-PO2",value:0,dom:[1,10],color:[ot,at,it,rt]},"Fosfat.Alca":{name:"Fosfat.Alca",value:0,dom:[1,10],color:[ot,at,it,rt]},"Bilirru.Direc":{name:"Bilirru.Direc",value:0,dom:[1,10],color:[ot,at,it,rt]},Transaminasas:{name:"Transaminasas",value:0,dom:[1,10],color:[ot,at,it,rt]},Creatininemia:{name:"Creatininemia",value:0,dom:[1.5,2.5],color:[ot,at,it,rt]},BUN:{name:"BUN",value:0,dom:[1,10],color:[ot,at,it,rt]},"Orina.Comp":{name:"Orina.Comp",value:0,dom:[1,10],color:[ot,at,it,rt]},"ELP-Potasio":{name:"ELP-Potasio",value:0,dom:[1,10],color:[ot,at,it,rt]},"ELP-Sodio":{name:"ELP-Sodio",value:0,dom:[1,10],color:[ot,at,it,rt]},"Niv.Glasgow":{name:"Niv.Glasgow",value:0,dom:[1,11],color:[ot,it,at,rt,at,it,ot]},"Cab.Med30":{name:"Cab.Med30",value:0,dom:[1,120],color:[ot,it,at,rt,at,it,ot]},FIO2:{name:"FIO2",value:0,dom:[1,10],color:[ot,at,it,rt]},ELP:{name:"ELP",value:0,dom:[1,10],color:[ot,at,it,rt]},PIC:{name:"PIC",value:0,dom:[1,10],color:[ot,at,it,rt]},PPC:{name:"PPC",value:0,dom:[1,10],color:[ot,at,it,rt]},PTIO2:{name:"PTIO2",value:0,dom:[1,10],color:[ot,at,it,rt]}},lt=function(t){return{PresArterial:{key:"P/A",array:[["0","0"]],units:"cmH2O"},FrecCardiaca:{key:"FC",array:[["0","0"]],units:"LPM"},TempCorporal:{key:"T\xb0C",array:[["0","0"]],units:"\xb0C"},FrecRespiratoria:{key:"FR",array:[["0","0"]],units:"RPM"},sepsis:{title:"sepsis",clinico:[t.PAM,t.PAS,t.Conciencia,t["Perf.cut."],t.Temperatura,t["F.Cardiaca"],t["Sat-periferica"]],laboratorio:[t.PCR,t.Lactato,t["Sat.ven.cen"],t.Hemograma,t.Procalcitonina,t.Glicemia]},shock:{title:"shock",clinico:[t.PAM,t.PAS,t.Conciencia,t["Perf.cut."],t.Temperatura,t["Sat.perife."],t["F.Cardiaca"],t["Var.pulso"],t["Bal.hidri"]],laboratorio:[t.Hematocrito,t.Lactato,t.DeltaCO2,t["Sat.ven.cen"],t.Troponina,t["CK-CKMB"],t["Ind.Cardiaco"],t.PH,t.PO2,t.PCO2,t.HCO3]},ventilatorio:{title:"ventilatorio",clinico:[t["Frec.Resp"],t["Uso.Musc.Acces"],t["Perf.Cutanea"],t["Sig.Pulmo"],t["Sat.Perife"]],laboratorio:[t.PO2,t.PCO2,t.HCO3,t.PH,t["Fracc.InspO2-FIO2"],t["Volum.Corrie"],t["Pres.Fin.Espir"],t.PAFI,t.IOX,t["Relac-VC.FC"]]},transplante:{title:"transplante",clinico:[t.PAM,t.PAS,t.Conciencia,t.Perfusion,t.Temperatura,t.Saturacion,t["F.Cardiaca"],t["Bal.Hidrico"],t["Debit.Urina"]],laboratorio:[t.Hematocrito,t.Lactato,t["Gasom.Ater-PO2"],t.PCO2,t.HCO3,t.PH,t["Fracc.InspO2-FIO2"],t["Fosfat.Alca"],t["Bilirru.Direc"],t.Transaminasas]},renal:{title:"renal",clinico:[t.PAM,t.PAS,t.Conciencia,t.Perfusion,t.Temperatura,t.Saturacion,t["F.Cardiaca"],t["Debit.Urina"]],laboratorio:[t.Hematocrito,t.Creatininemia,t.BUN,t["Orina.Comp"],t["ELP-Potasio"],t["ELP-Sodio"],t.PO2,t.PCO2,t.HCO3,t.PH]},neurologico:{title:"neurologico",clinico:[t.PAM,t.Conciencia,t.Perfusion,t.Temperatura,t.Saturacion,t["Niv.Glasgow"],t["Cab.Med30"]],laboratorio:[t.Hematocrito,t.Lactato,t.PO2,t.PCO2,t.HCO3,t.PH,t.FIO2,t.ELP,t.PIC,t.PPC,t.PTIO2]}}},st=function(t){var e=t.replace(/[^0-9:]/g,"").split(":"),n=t.toLowerCase().replace(/[\s+:.0-9]/g,"").indexOf("pm")>=0?e.indexOf("12")>=0?0:12:e.indexOf("12")>=0?-12:0;return"".concat(parseFloat(e[0])+n,":").concat(e[1])},dt=n(1761),ut=[["FC","F.Cardiaca"],["T\xb0C","Temperatura"],["FR","Frec.Resp"],["PAM","PAM"],["FIO2","FIO2"],["VOL.CTE","Volum.Corrie"],["SAT","Saturacion"]],pt=X.b0.urlServer,ft=X.b0.requestOptionsPost,mt=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(e,n,a){var i,o,c,l,s,d,u,p,f,m;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i="".concat(n[2],"-").concat((0,G.r)(n[1]),"-").concat((0,G.r)(n[0])),o={resourceType:"Bundle",type:"batch",entry:[]},c={PresArterial:lt(ct).PresArterial,FrecCardiaca:lt(ct).FrecCardiaca,TempCorporal:lt(ct).TempCorporal,FrecRespiratoria:lt(ct).FrecRespiratoria},l=[],["alarmaDia:","alarmaNoche:"].forEach((function(t){["Hora","P/A","FC","T\xb0C","FR","C\xf3digo","PAM","PVC","PAP","PCP","\xc1ngulo de Cabecera","EVA/S.A.S","C\xf3d./Modo","FIO2","IPAP/PS","EPAP/PEEP","PC","VOL.CTE","VOL.MIN","SAT","CUFF/CMS","DU Parcial","DU Total","Deposiciones","HGT","Insulina","Residuo G\xe1strico","Evaluaci\xf3n contenciones"].forEach((function(e){return l.push(t+e)}))})),l.forEach((function(t){o.entry.push({request:{method:"GET",url:"Basic?subject=".concat(e,"&identifier=").concat(t.replace(/[^a-zA-Z0-9:]/g,""),"&identifier=").concat(i,"T00:00:00Z")}})})),ft.body=JSON.stringify(o),(s=(0,$.Z)(ft)).headers.append("Content-Type","application/json"),t.next=11,fetch("".concat(pt),s);case 11:return d=t.sent,t.next=14,d.json();case 14:u=t.sent,p=[],u.entry.forEach((function(t){t.resource.total>0&&p.push(t.resource.entry[0].resource)})),p.length>0&&(f=[],["alarmaDia","alarmaNoche"].forEach((function(t){f.push(p.filter((function(e){return e.code.text.indexOf(t)>=0})).map((function(t){return t.code})))})),m=(m=f.map((function(t){return t.map((function(t,e,n){return{name:t.text.split(":")[1],data:t.coding.reduce((function(t,n){return[].concat((0,_.Z)(t),[e?parseFloat(n.display)?parseFloat(n.display):(0,dt.h)(t):st(n.display)])}),[])}}))})))[m.reduce((function(t,e,n){return e.length>t?n:t}),0)].map((function(t){var e,n,r=null!==(e=m[0].find((function(e){return e.name===t.name})))&&void 0!==e&&e.data?m[0].find((function(e){return e.name===t.name})).data:["0","0"],a=null!==(n=m[1].find((function(e){return e.name===t.name})))&&void 0!==n&&n.data?m[1].find((function(e){return e.name===t.name})).data:["0","0"];return{name:t.name,data:[].concat((0,_.Z)(r),(0,_.Z)(a))}})),Object.keys(c).forEach((function(t){return c[t]=(0,w.Z)((0,w.Z)({},c[t]),{},{array:m.length>0?m.find((function(t){return"Hora"===t.name})).data.map((function(e,n){return[m.find((function(e){return e.name===c[t].key}))&&m.find((function(e){return e.name===c[t].key})).data[n]?m.find((function(e){return e.name===c[t].key})).data[n]:"0",e]})):[["0","0"]]})})),m.forEach((function(t){c[t.name]=t.data})),ut.forEach((function(t){ct[t[1]].value=(0,dt.h)(c[t[0]]).toFixed(1)}))),a((0,w.Z)({},Object.assign(lt(ct),c)));case 20:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),ht=function(t){var e=t.dt,n=(0,g.A)(),r=(0,h.Z)(e,2),a=r[0],o=r[1],l=(0,i.useState)((0,w.Z)({},lt(ct))),s=(0,h.Z)(l,2),d=s[0],u=s[1],p=[{key:"Sepsis-Inflamatorio",obj:d.sepsis},{key:"Shock-Hemodin\xe1mico",obj:d.shock},{key:"Ventilatorio",obj:d.ventilatorio},{key:"Transplante",obj:d.transplante},{key:"Renal",obj:d.renal},{key:"Neurolog\xedco",obj:d.neurologico}],f=(0,i.useState)([{categoria:"Categor\xeda",medicamento:"Medicamento",intervaloValue:"h",intervaloUnit:"#",date:new Date,dosisValue:"1",dosisUnit:"ml,g"}]),m=(0,h.Z)(f,2),x=m[0],v=m[1];return(0,i.useEffect)((function(){nt(a,o,v),mt(a,o,u)}),[a,o]),(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)(c.ZP,{container:!0,spacing:1,children:[(0,j.jsx)(c.ZP,{item:!0,xs:9,children:(0,j.jsxs)(c.ZP,{container:!0,spacing:1,children:[[["Presi\xf3n Arterial",d.PresArterial],["Frecuencia Cardiaca",d.FrecCardiaca],["Temperatura Corporal",d.TempCorporal],["Frecuencia Respiratoria",d.FrecRespiratoria]].map((function(t,e){return(0,j.jsx)(c.ZP,{item:!0,xs:6,children:(0,j.jsx)(C,{stl:n,title:t[0],children:(0,j.jsx)(S,{stl:n,data:t[1]})})},e)})),(0,j.jsx)(c.ZP,{item:!0,xs:12,children:(0,j.jsx)(C,{stl:n,title:"Medicaci\xf3n",children:(0,j.jsx)(H,{data:x,date:o})})}),(0,j.jsx)(c.ZP,{item:!0,xs:12,children:(0,j.jsx)(C,{stl:n,title:"Ventilaci\xf3n",children:(0,j.jsx)(Q,{stl:n,dt:[a,o]})})})]})}),(0,j.jsx)(c.ZP,{item:!0,xs:3,children:(0,j.jsx)(E,{stl:n,title:"Cuadro Sindrom\xe1tico",data:p})})]})})},xt=function(){return(0,j.jsx)("div",{className:"white",children:(0,j.jsx)("h2",{className:"title p-5",children:"Laboratorio"})})},gt=n(8753),vt=n(8596),yt=n(9962),jt=n.n(yt),bt=function(t){var e=t.data,n=t.prom,r=(0,P.z)(),a=r._xl,o=r._lg,c=(0,i.useRef)(null);return(0,i.useEffect)((function(){!function(t,e,n,r,a){var i=t.map((function(t){return t[0]})).reverse(),o=t.map((function(t){return t[1]})),c=n?"22px":r?"16px":"12px",l={right:25,top:10,bottom:n?65:r?55:43,left:n?45:r?40:38},s=Z.Ys(a.current);s.selectAll("*").remove();var d=s._groups[0][0].clientWidth,u=s._groups[0][0].clientHeight,p=s.append("g").attr("width","".concat(d)).attr("height","".concat(u)),f=Z.Xf().domain(Z.Wem(o,(function(t){return new Date(t)}))).range([l.left,d-l.right]),m=Z.BYU().domain([0,t.length]).range([l.left,d-l.right]),h=Z.LLu().scale(f);p.append("g").attr("transform","translate(0, ".concat(u-l.bottom,")")).call(h).attr("color","black").attr("opacity","0.85").selectAll("text").attr("transform","rotate(45,-8,15)").attr("style","font-size:".concat(c,"; font-family: Montserrat !important"));var x=Z.Wem(i,(function(t){return parseFloat(t)})).reverse(),g=Z.BYU().domain([x[0],x[1]]).range([l.top,u-l.bottom]),v=Z.y4O().scale(g).tickSize(-d+l.right+l.left).ticks(5);p.append("g").attr("transform","translate(".concat(l.left," ,0)")).call(v).attr("color","black").attr("opacity","0.85").attr("style","font-size:".concat(c,"; font-family: Montserrat !important")).call((function(t){return t.select(".domain").remove()})).call((function(t){return t.selectAll("line").attr("stroke-opacity","0.3")})),p.append("path").datum(i).attr("fill","none").attr("stroke","#80A9FF").attr("stroke-width","2").attr("d",Z.jvg().x((function(t,e){return m(e)})).y((function(t,e){return g(t)})).curve(Z.zgE)),p.append("path").datum(i).attr("fill","none").attr("stroke","#d51919").attr("stroke-width","1.4").attr("d",Z.jvg().x((function(t,e){return m(e)})).y((function(t,n){return g(parseFloat(e))})).curve(Z.zgE))}(e,n,a,o,c)}),[e,n,a,o,c]),(0,j.jsx)("svg",{ref:c,width:"100%",height:a?"300px":o?"220px":"200px"})},wt=13,Ct=17,Zt=function(t){var e=t.interval,n=t.setNormal,r=t.normal,a=i.useRef(null),o=(0,P.z)(),c=o._xl,l=o._lg;return(0,i.useEffect)((function(){!function(t,e,n,r,a,i){var o=a?"22px":i?"16px":"12px",c=!1,l=[n[0]<e[0],n[1]>e[1]].map((function(t,r){return t?(c=!0,parseFloat(2*e[r]-n[r]).toFixed(1)):n[r]}));c&&r(l.sort((function(t,e){return t-e})));var s=Z.Ys(t.current);s.selectAll("*").remove();var d=s._groups[0][0].clientWidth,u=s._groups[0][0].clientHeight,p=s.append("g").attr("width","".concat(d)).attr("height","".concat(u)),f=Z.BYU().domain(e).range([wt,d-Ct]);p.append("line").attr("x1",f(e[0])).attr("x2",f(e[1])).attr("y1",2*u/4).attr("y2",2*u/4).attr("stroke","#525252").attr("stroke-width","0.2rem"),[e[0],e[1]].forEach((function(t){p.append("circle").attr("cx",f(t)).attr("cy",2*u/4).attr("r",5).attr("fill","#525252")})),[[f(e[0])+7,f(n[0]),"rgba(166, 0, 0, 0.83)"],[f(n[1]),f(e[1])-7,"rgba(166, 0, 0, 0.83)"],[f(n[0]),f(n[1]),"rgba(0, 157, 35, 0.83)"]].forEach((function(t){p.append("line").attr("x1",t[0]).attr("x2",t[1]).attr("y1",2*u/4).attr("y2",2*u/4).attr("stroke",t[2]).attr("stroke-width",i?"2rem":"1.5rem")})),[f(e[0])-13,f(e[1])-6].forEach((function(t,n){p.append("text").attr("x",t).attr("y",2*u/4+17).attr("stroke","#525252").attr("font-family","Montserrat").attr("font-weight","300").attr("fontSize",o).text(e[n])}));var m=0,h={};[[f(n[0])-13,i?2*u/4-16:2*u/4-13],[f(n[1])-13,i?2*u/4-16:2*u/4-13]].forEach((function(t,o){p.append("path").attr("id","arrow_".concat(o)).attr("d","M12.5 18L0.808656 0.75L24.1913 0.750002L12.5 18Z").attr("fill","#030000").attr("transform","translate( ".concat(t," )")).attr("style","cursor:pointer"),h["handler_".concat(o)]=Z.ohM().on("drag",(function(t){if(t.dx<50){var c=(m+=t.dx*(e[1]-e[0])/(a?700:i?500:400))+parseFloat(n[o]);c>e[0]+.1&c<e[1]-.1&&r([parseFloat(c).toFixed(2),parseFloat(n[1-o]).toFixed(2)].sort((function(t,e){return t-e})))}})),h["handler_".concat(o)](p.select("#arrow_".concat(o)))}))}(a,e,r,n,c,l)}),[a,e,r,n,c,l]),(0,j.jsx)("svg",{ref:a,width:"100%",height:"40px"})},Pt=function(t){var e=t.value,n=t.idx,r=(0,P.z)(),a=r._xl,o=r._lg,c=(0,i.useState)([e[0],e[1]]),l=(0,h.Z)(c,2),s=l[0],d=l[1];return(0,j.jsx)("input",{type:"numb",size:3,value:s[n],style:{caretColor:"transparent",fontFamily:"Montserrat",fontSize:a?"22px":o?"16px":"12px"},onChange:function(t){return function(t,e,n){var r=[[t,s[1]],[s[0],t]][e];return d(r)}(isNaN(parseInt(t.target.value))?0:parseInt(t.target.value),n)}})},kt=function(t){var e=t.intervals,n=t.title,r=(0,i.useState)(e[4].split("-").map((function(t){return parseFloat(t)?parseFloat(t).toFixed(2):0}))),a=(0,h.Z)(r,2),o=a[0],c=a[1],l=(0,P.z)(),s=l._xl,d=l._lg,u=(0,i.useState)(e[3].split("-").map((function(t){return parseInt(t)}))),p=(0,h.Z)(u,2),f=p[0],m=p[1],x=function(t,e,n){t===f[1-e]&&(t+=1);var r=[t,f[1-e]].sort((function(t,e){return t-e}));m(r)},g=localStorage.getItem("intervalos")?JSON.parse(localStorage.getItem("intervalos")):{};return g["".concat(n,"_intervalos")]=[f,o],localStorage.setItem("intervalos",JSON.stringify(g,null,2)),(0,j.jsxs)(j.Fragment,{children:[["min:","max:"].map((function(t,e){return(0,j.jsxs)("div",{align:"center",style:{fontFamily:"Montserrat"},onBlur:function(t){return x(isNaN(parseInt(t.target.value))?f[e]:parseInt(t.target.value),e)},onKeyDown:function(t){return function(t,e,n){"Enter"===n.key&&x(t,e)}(isNaN(parseInt(t.target.value))?f[e]:parseInt(t.target.value),e,t)},children:[(0,j.jsx)("span",{style:{paddingInline:"0.8rem",fontSize:s?"22px":d?"16px":"12px"},children:t}),(0,j.jsx)(Pt,{value:f,idx:e})]},e)})),(0,j.jsx)("p",{align:"center",children:(0,j.jsx)(Zt,{interval:f,setNormal:c,normal:o})}),(0,j.jsxs)("p",{style:{fontFamily:"Montserrat",fontSize:s?"22px":d?"16px":"12px"},children:["Rango sin alerta:",[o[0],o[1]].map((function(t,e){return(0,j.jsxs)("span",{style:{fontWeight:"bold"},children:[" "+t,"  ",0===e?" - ":" "]},e)}))]})]})},Ft=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(e,n,a,i){var o,c,l,s;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o="".concat(e[2],"-").concat((0,G.r)(e[1]),"-").concat((0,G.r)(e[0])),c=(0,K.u)("lastHour"),l=X.b0.urlServer,s=X.b0.requestOptionsGet,t.next=5,fetch("".concat(l,"Observation?identifier=").concat(o).concat(c,"&identifier=metricas&subject=").concat(n),s).then((function(t){return t.text().then((function(t){var e=JSON.parse(t);if((null===e||void 0===e?void 0:e.total)>0){var n=e.entry[0].resource.component.find((function(t){return t.code.text===a}));i((function(){return n.code.coding.map((function(t){return t.display.split(":")[1]}))}))}}))}));case 5:case"end":return t.stop()}}),t)})));return function(e,n,r,a){return t.apply(this,arguments)}}(),St=function(t){var e=(0,P.z)(),n=e._xl,r=e._lg,a=(0,T.Z)("div")({width:"auto",height:n?"185px":r?"142px":"125px",borderRadius:"0.15rem",paddingBlock:"0.2rem",paddingInline:r?"1rem":"0.3rem",display:"flex",flexDirection:"column",fontFamily:" Montserrat",justifyContent:"space-around"});return(0,j.jsxs)(a,{style:t.style,children:[" ",t.children," "]})},At=function(t){var e=(0,P.z)(),n=e._xl,r=e._lg,a=(0,T.Z)("span")({fontFamily:"Montserrat !important",fontWeight:"600",fontSize:n?"25px":r?"20px":"14px",marginRight:"0.5rem"});return(null===t||void 0===t?void 0:t.children.length)>0&&(null===t||void 0===t?void 0:t.square)&t.children[0].split(" ").length>1?(0,j.jsx)(a,{children:(0,j.jsx)("pre",{style:{fontFamily:"Montserrat",margin:"0px"},children:"".concat(t.children[0].split(" ")[0],"\n     ").concat(t.children[0].split(" ")[1],":")})}):(0,j.jsxs)(a,{children:[" ",null===t||void 0===t?void 0:t.children," "]})},_t=function(t){var e=(0,P.z)(),n=e._xl,r=e._lg,a=(0,T.Z)("span")({fontWeight:"400",fontSize:n?"xx-large":r?"x-large":"small"});return(0,j.jsxs)(a,{children:[" ",t.children," "]})},Mt=function(t){var e=(0,P.z)(),n=e._xl,r=e._lg,a=(0,T.Z)("span")({fontFamily:"Montserrat !important",fontWeight:"500",fontSize:n?"24px":r?"14px":"10px",marginLeft:"0.1rem"});return(0,j.jsxs)(a,{children:[" ",t.children," "]})},Lt=function(t){var e=(0,P.z)()._lg,n=(0,T.Z)("p")({textAlign:"left",marginBlock:"0px",fontWeight:"300",fontSize:e?"larger":"medium"});return(0,j.jsxs)(n,{children:[" ",t.children," "]})},It=function(t){var e=(0,P.z)(),n=e._xl,r=e._lg,a=(0,T.Z)("span")({fontWeight:"400",fontSize:n?"x-large":r?"large":"small"});return(0,j.jsxs)(a,{children:[" ",t.children," "]})},Dt=function(t){var e=(0,P.z)(),n=e._xl,r=e._lg,a=(0,T.Z)("div")({width:"100%",marginBlock:r?"5px":"3px",whiteSpace:"nowrap",display:"flex",flexWrap:"nowrap",alignItems:"center",justifyContent:"space-between",fontFamily:"Montserrat !important",fontSize:n?"22px":r?"16px":"12px"});return(0,j.jsxs)(a,{children:[" ",t.children," "]})},Et=function(t){var e=(0,P.z)(),n=e._xl,r=e._lg,a=(0,T.Z)("div")({position:"absolute",top:n?"600px":r?"680px":"380px",left:n?"700px":r?"550px":"400px",maxWidth:"content",background:"white",border:" hsl(0deg 0% 33%) solid 0.13rem",borderRadius:"0.15rem",zIndex:"100",paddingInline:"0.5rem",paddingTop:"0.3rem",display:"flex",flexDirection:"column",flexWrap:"nowrap",alignItems:"stretch",justifyContent:"space-between","&:hover":{zIndex:"1000"}});return(0,j.jsx)(jt(),{children:(0,j.jsxs)(a,{align:t.align,id:t.id,style:t.style,children:[" ",t.children," "]})})},Ot=(0,T.Z)("div")({position:"absolute",maxWidth:"content",background:"white",border:" hsl(0deg 0% 33%) solid 0.13rem",boxShadow:"rgba(0, 0, 0, 0.4) 5px 5px 5px 3px",borderRadius:"0.15rem",zIndex:"100",paddingInline:"0.5rem",paddingTop:"0.3rem",width:"35%",transition:"zIndex 1s  linear 0.5s","&:hover":{zIndex:"1000"}}),Ht=function(t){var e=(0,T.Z)("svg")({cursor:"pointer",borderRadius:"0.2rem",transition:"background 0.15s ease","&:active":{background:"hsl(".concat(t.color,"deg 100% ",60,"%)")}});return(0,j.jsx)(e,{width:t.width,height:t.height,viewBox:t.viewBox,fill:t.fill,onClick:t.onClick,children:t.children})},Tt=function(t){var e=t.idPat,n=t.title,r=t.day,a=(t.id,t.array),o=(0,P.z)(),c=o._xl,l=o._lg,s=(0,i.useState)("hidden"),d=(0,h.Z)(s,2),u=d[0],p=d[1],f=(0,i.useState)((function(){return["xx","xx","xx","2-20","12-15"]})),m=(0,h.Z)(f,2),x=m[0],g=m[1],v="";(0,i.useEffect)((function(){Ft(r,e,n[0],g)}),[r,e,n,g]);var y=function(t,e){return t&&(t.findIndex((function(t){return t[0]<=parseFloat(e[4].split("-")[0])}))>=0||t.findIndex((function(t){return t[0]>=parseFloat(e[4].split("-")[1])}))>=0)?6:216}(a,x);return{setDisplayAlert:function(){return p((function(t){return"hidden"===t?"visible":"hidden"}))},parametros:x,h_color:y,RenderAlert:function(){return(0,j.jsx)(jt(),{children:(0,j.jsxs)(Ot,{align:"left",style:{visibility:u,top:c?"600px":l?"680px":"380px",left:c?"1200px":l?"920px":"850px"},children:[(0,j.jsxs)(Dt,{children:[(0,j.jsxs)(At,{children:["Alerta para ",n[1]]}),(0,j.jsx)(Ht,{width:c?"45":"30",height:c?"45":"30",viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:y,onClick:function(){p("hidden"),v=JSON.parse(localStorage.getItem("intervalos"))["".concat(n[1],"_intervalos")],function(t,e,n,r){var a="".concat(t[2],"-").concat((0,G.r)(t[1]),"-").concat((0,G.r)(t[0])),i=(0,K.u)("lastHour"),o=X.b0.urlServer,c=X.b0.requestOptionsGet,l=X.b0.requestOptionsPut;fetch("".concat(o,"Observation?identifier=").concat(a).concat(i,"&identifier=metricas&subject=").concat(e),c).then((function(t){t.text().then((function(t){var e=JSON.parse(t);if((null===e||void 0===e?void 0:e.total)>0){var a=e.entry[0].fullUrl.split("v4/")[1],i=e.entry[0].resource,c=i.component.find((function(t){return t.code.text===n}));if(c){var s=i.component.findIndex((function(t){return t.code.text===n}));c.code.coding=[{display:c.code.coding[0].display},{display:c.code.coding[1].display},{display:c.code.coding[2].display},{display:"VarInterval:".concat(r[0][0],"-").concat(r[0][1])},{display:"NorInterval:".concat(r[1][0],"-").concat(r[1][1])}],i.component[s]=c}l.body=JSON.stringify(i),fetch("".concat(o).concat(a),l)}}))}))}(r,e,n[0],v),x[3]="".concat(v[0][0],"-").concat(v[0][1]),x[4]="".concat(v[1][0],"-").concat(v[1][1]),g(x)},children:(0,j.jsx)("path",{d:"M26.3 0.8H9.3C7.7 0.8 6.4 2.1 6.4 3.6V20.6C6.4 22.2 7.7 23.4 9.3 23.4H26.3C27.9 23.4 29.1 22.2 29.1 20.6V3.6C29.1 2.1 27.9 0.8 26.3 0.8ZM26.3 20.6H9.3V3.6H26.3V20.6ZM3.6 6.4V26.3H23.4V29.1H3.6C2.1 29.1 0.8 27.9 0.8 26.3V6.4H3.6ZM11.8 16.1L15.8 12.1L11.8 8.1L13.8 6.1L17.8 10.1L21.8 6.1L23.8 8.1L19.8 12.1L23.8 16.1L21.8 18.1L17.8 14.1L13.8 18.1L11.8 16.1Z",fill:"black",fillOpacity:"0.8"})})]}),(0,j.jsx)("p",{style:{paddingRight:"1rem",paddingBottom:"1rem",fontFamily:"Montserrat",fontSize:c?"22px":l?"16px":"12px"},children:"L\xedmites de observaci\xf3n:"}),(0,j.jsx)(kt,{intervals:x,title:n[1]})]})})}}},zt=function(t){var e=t.day,n=t.idPat,r=void 0===n?0:n,a=t.title,o=void 0===a?"":a,c=t.value,l=void 0===c?"100":c,s=t.tendencia,d=void 0===s?"5":s,u=t.prom,p=void 0===u?"0":u,f=t.array,m=void 0===f?[0,0]:f,x=t.id,g=void 0===x?0:x,v=Tt({idPat:r,title:o,day:e,id:g,array:m}),y=v.setDisplayAlert,b=v.RenderAlert,C=v.parametros,Z=v.h_color,k=function(t){var e=t.array,n=t.prom,r=t.value,a=t.parametros,o=t.tendencia,c=t.id,l=t.h_color,s=t.title,d=(0,P.z)()._xl,u=(0,i.useState)("hidden"),p=(0,h.Z)(u,2),f=p[0],m=p[1],x={width:"35%",boxShadow:"rgba(0, 0, 0, 0.4) 5px 5px 5px 3px"};return{setDisplayPlot:function(){return m((function(t){return"hidden"===t?"visible":"hidden"}))},RenderPlot:function(){return(0,j.jsxs)(Et,{style:(0,w.Z)((0,w.Z)({},x),{},{visibility:f}),align:"left",className:"animate__animated animate__bounceIn",id:"".concat(c),children:[(0,j.jsxs)(Dt,{children:[(0,j.jsx)(At,{children:s[1]}),(0,j.jsx)(Ht,{width:d?"45":"30",height:d?"45":"30",viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:l,onClick:function(){return m("hidden")},children:(0,j.jsx)("path",{d:"M26.3 0.8H9.3C7.7 0.8 6.4 2.1 6.4 3.6V20.6C6.4 22.2 7.7 23.4 9.3 23.4H26.3C27.9 23.4 29.1 22.2 29.1 20.6V3.6C29.1 2.1 27.9 0.8 26.3 0.8ZM26.3 20.6H9.3V3.6H26.3V20.6ZM3.6 6.4V26.3H23.4V29.1H3.6C2.1 29.1 0.8 27.9 0.8 26.3V6.4H3.6ZM11.8 16.1L15.8 12.1L11.8 8.1L13.8 6.1L17.8 10.1L21.8 6.1L23.8 8.1L19.8 12.1L23.8 16.1L21.8 18.1L17.8 14.1L13.8 18.1L11.8 16.1Z",fill:"black",fillOpacity:"0.8"})})]}),(0,j.jsxs)("section",{style:{display:"flex"},children:[(0,j.jsx)(bt,{data:e,prom:n}),(0,j.jsx)("div",{children:["Magnitud","Promedio","Tendencia"].map((function(t,e){return(0,j.jsxs)("div",{children:[(0,j.jsx)(Dt,{children:(0,j.jsx)("strong",{children:t})}),(0,j.jsx)(Dt,{align:"center",children:["".concat(r," ").concat(a[2]),"".concat(n," ").concat(a[2]),"".concat(o," ").concat(a[2],"/h")][e]})]},e)}))})]})]})}}}({array:m,prom:p,value:l,parametros:C,tendencia:d,id:g,h_color:Z,title:o}),F=k.setDisplayPlot,S=k.RenderPlot,A=(0,vt.Z)((function(t){return{bottomP:{cursor:"pointer",borderRadius:"0.2rem",transition:"background 0.15s ease","&:active":{background:"hsl(".concat(Z,"deg 100% ",60,"%)")}}}}))(),_=(0,P.z)()._xl,M={border:"0.13rem solid hsl(".concat(Z,"deg 100% ",30,"%)"),background:"hsl(".concat(Z,"deg 100% ",92,"%)"),color:"hsl(".concat(Z,"deg 100% ",30,"%)")};return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(b,{}),(0,j.jsx)(S,{}),(0,j.jsxs)(St,{style:M,children:[(0,j.jsxs)("div",{style:{width:"max-content",display:"flex",flexDirection:"row",fleWrap:"wrap",alignItems:"flex-end"},children:[(0,j.jsxs)(At,{square:!0,children:[o[1],":"]}),(0,j.jsx)(_t,{children:" "+l}),(0,j.jsx)(Mt,{children:" "+C[2]})]}),(0,j.jsxs)("section",{style:{display:"flex",flexWrap:"nowrap",alignContent:"center",justifyContent:"space-between",flexDirection:"column",alignItems:"flex-start"},children:[(0,j.jsxs)(Dt,{children:[(0,j.jsxs)("div",{style:{display:"inline",marginRight:"3px",width:"80%"},children:[(0,j.jsx)(Lt,{children:"Tend.:"}),(0,j.jsxs)(It,{children:[d,(0,j.jsx)(Mt,{children:" "+C[2]})]})]}),(0,j.jsx)("span",{className:A.bottomP,onClick:y,children:(0,j.jsx)("svg",{width:_?"45":"30",height:_?"45":"30",viewBox:"4 0 52 52",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,j.jsx)("path",{d:"M46.7083 46.7083H12.2917V12.2917H46.7083M46.7083 7.375H12.2917C10.9877 7.375 9.73711 7.893 8.81506 8.81506C7.893 9.73711 7.375 10.9877 7.375 12.2917V46.7083C7.375 48.0123 7.893 49.2629 8.81506 50.1849C9.73711 51.107 10.9877 51.625 12.2917 51.625H46.7083C48.0123 51.625 49.2629 51.107 50.1849 50.1849C51.107 49.2629 51.625 48.0123 51.625 46.7083V12.2917C51.625 9.56292 49.4125 7.375 46.7083 7.375ZM27.0417 36.875H31.9583V41.7917H27.0417V36.875ZM27.0417 17.2083H31.9583V31.9583H27.0417V17.2083Z",fill:"hsl(".concat(Z,"deg 100% ",30,"%)")})})})]}),(0,j.jsxs)(Dt,{children:[(0,j.jsxs)("div",{style:{display:"inline",marginRight:"3px",width:"80%"},children:[(0,j.jsx)(Lt,{children:"Prom.:"}),(0,j.jsxs)(It,{children:[p,(0,j.jsx)(Mt,{children:" "+C[2]})]})]}),(0,j.jsx)("span",{className:A.bottomP,onClick:F,children:(0,j.jsxs)("svg",{width:_?"45":"30",height:_?"45":"30",viewBox:"-1 -10 52 59",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,j.jsx)("path",{d:"M24.84 10.58C22.64 10.38 20.7 12 20.5 14.22L20 20H25.64V24H19.64L18.76 34.14C18.36 38.54 14.48 41.8 10.08 41.4C7.58 41.18 5.32 39.8 4 37.66L7 34.66C7.66 36.76 9.92 37.94 12 37.26C13.56 36.78 14.66 35.4 14.8 33.78L15.64 24H9.64V20H16L16.54 13.86C16.92 9.46 20.78 6.2 25.2 6.56C27.72 6.78 30 8.18 31.32 10.34L28.32 13.34C27.82 11.8 26.46 10.72 24.84 10.58ZM44 27.3L41.18 24.48L35.52 30.14L29.86 24.48L27 27.3L32.7 33L27 38.62L29.86 41.44L35.52 35.78L41.18 41.44L44 38.62L38.34 33L44 27.3Z",fill:"hsl(".concat(Z,"deg 100% ",30,"%)")}),(0,j.jsx)("rect",{x:"1",y:"1",width:"46",height:"46",rx:"7",ry:"7",stroke:"hsl(".concat(Z,"deg 100% ",30,"%)"),strokeWidth:"5"})]})})]})]})]})]})},Nt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=new Date(t).getTime()+e;return new Date(n).toLocaleString("en-es").split(",")[1]},Bt=function(t){var e=t.data,n=t.name,r=t.point,a=void 0===r?80:r,o=t.setPoint,c=t.len,l=void 0===c?200:c,s=t.setLen,d=t.color,u=e.body[0].data.data,p=e.body[0].data.date.reverse(),f=e.body[0].data.delay,m=i.useRef(null),x=(0,i.useState)({x:0,width:0}),g=(0,h.Z)(x,2),v=g[0],y=g[1],b=(0,P.z)(),w=b._xl,C=b._lg,Z=(0,i.useMemo)((function(){return function(){var t=[],e=0;return u.forEach((function(n,r){var a=new Date(p[r+1]).getTime()-new Date(p[r]).getTime(),i=!1;f[r]>a?e=a/n.length:(e=f[r]/n.length,i=!0),t=t.concat(n.map((function(t,a){return i&&0===a||i&&a===n.length-1?[new Date(p[r]).getTime()+e*a,0]:[new Date(p[r]).getTime()+e*a,t]})))})),t}()}),[u,p,f]);return(0,i.useEffect)((function(){Rt(m,Z,n,a,o,l,s,v,y,w,C,d)}),[m,Z,n,a,o,l,s,v,y,w,C,d]),(0,j.jsx)("svg",{ref:m,width:"100%",height:w?"240":C?"190":"180"})},Rt=function(t,e,n,r,a,i,o,c,l,s,d,u){var p=Z.Ys(t.current);p.selectAll("*").remove();var f=p._groups[0][0].clientWidth,m=p._groups[0][0].clientHeight,h=s?"22px":d?"16px":"12px",x=s?"22px":d?"16px":"12px",g=Z.Wem(e,(function(t){return t[1].length})),v={top:s||d?22:20,right:s?30:d?25:20,bottom:s?30:d?22:35,left:h.split("px")[0]*g[1]*.55},y=e.length*r/100,j=y;y-i/2<0?(y=0,j=i):y+i/2>e.length?y=(j=e.length-1)-i:(y-=i/2,j+=i/2);var b=[parseInt(y),parseInt(j)],C=p.append("g").attr("width","".concat(f)).attr("height","".concat(m)),P="white";C.append("g").append("rect").attr("x",v.left).attr("y",v.top).attr("width",f-v.right-v.left).attr("height",m-v.top-v.bottom).attr("stroke","rgba(0, 0, 0, 0)").attr("fill",P);var k=Z.Xf().domain([new Date(e[b[0]][0]),new Date(e[b[1]][0])]).range([v.left,f-v.right]),F=Z.LLu().scale(k).ticks(s|d?8:5);C.append("g").attr("transform","translate(0, ".concat(m-v.bottom,")")).call(F).attr("font-family","Montserrat").attr("font-size",h).attr("color","black").attr("opacity","0.9").selectAll("text");var S=Z.Wem(e.slice(b[0],b[1]),(function(t){return parseFloat(t[1])})).reverse(),A=Z.BYU().domain([S[0],S[1]]).range([v.top,m-v.bottom]),_=Z.y4O().scale(A).tickSize(-f+v.right+v.left).ticks(s|d?3:4);C.append("g").attr("transform","translate(".concat(v.left," ,0)")).call(_).attr("font-family","Montserrat").attr("font-size",h).attr("color","black").attr("opacity","0.9").call((function(t){return t.select(".domain").remove()})).call((function(t){return t.selectAll("line").attr("stroke-opacity","0.5").attr("stroke-dasharray","2,2")}));var M=C.append("linearGradient").attr("id","Gradient_".concat(u)).attr("x1",0).attr("x2",0).attr("y1",0).attr("y2",1);M.append("stop").attr("offset","0%").attr("stop-color","".concat(u,"45")),M.append("stop").attr("offset","100%").attr("stop-color",P),C.append("path").datum(e.slice(b[0],b[1])).attr("fill","url(#Gradient_".concat(u,")")).attr("stroke",u).attr("stroke-width",1).attr("d",Z.SOn().x((function(t){return k(t[0])})).y0((function(t){return A(0)<=m-v.bottom?A(0):m-v.bottom})).y1((function(t){return A(parseFloat(t[1]))})).curve(Z.FdL)),C.append("g").append("text").attr("x",f/2-n.length*x.split("px")[0]*.23).attr("y",s?16:15).attr("font-family","Montserrat").attr("font-size",x).attr("font-weight","500").attr("line-height","16px").text(n),[[v.left,Nt(new Date(e[b[0]][0]))],[f-7*h.split("px")[0],Nt(new Date(e[b[1]][0]))]].forEach((function(t){C.append("g").append("text").attr("x",t[0]).attr("y",s?20:d?16:15).attr("font-family","Montserrat").attr("font-size",h).attr("font-weight","500").attr("line-height","16px").text(t[1])})),C.append("g").append("rect").attr("x",c.x).attr("y",v.top).attr("width",c.width).attr("height",m-v.top-v.bottom).attr("fill","rgba(0, 0, 150, 0.4)"),C.append("g").append("rect").attr("id","rect".concat(n)).attr("x",v.left).attr("y",v.top).attr("width",f-v.right-v.left).attr("height",m-v.top-v.bottom).attr("stroke","rgba(0, 0, 0, 0)").attr("fill","rgba(0, 0, 25, 0.01)").attr("style","cursor:pointer").on("wheel",(function(t){return L(t)}));var L=function(t){if(t.shiftKey){var e=i+Math.sign(t.wheelDeltaY)*(b[1]-b[0])/5;e>12&e<1e3&&o(e)}},I=0,D=!0,E=0;Z.ohM().on("drag",(function(t){var e=0;b[1]-b[0]>30&&(D&&(c.x=t.x,E=t.x,D=!1),Math.abs(t.dx)<200?(I+=t.dx,E+=t.dx):I+=t.dx/500,I<0&c.x>0?(c.x=E,e+=-1*I):e+=I,e>0&c.x+e<f-v.right&&(c.width=e,l((0,w.Z)({},c))))})).on("end",(function(){return function(){if(c.width>0){var t=e.findIndex((function(t){return t[0]>=k.invert(c.x).getTime()})),n=e.findIndex((function(t){return t[0]>=k.invert(c.x+c.width).getTime()}));0!==t&0!==n&n-t>12&&(a({value:(n+t)/2/e.length*100}),o(n-t)),l({x:0,width:0})}}()}))(C.select("#rect".concat(n)))},Vt=57,Ut=40,Yt=function(t){var e=t.set,n=t.point,r=i.useRef(null),a=(0,P.z)(),o=a._xl,c=a._lg;(0,i.useEffect)((function(){!function(t,e,n,r){var a=Z.Ys(e.current);a.selectAll("*").remove();var i=a._groups[0][0].clientWidth,o=a._groups[0][0].clientHeight,c=a.append("g").attr("width","".concat(i)).attr("height","".concat(o)),l=Z.BYU().domain(t).range([Ut,i-Vt]);c.append("line").attr("id","line").attr("x1",l(t[0])).attr("x2",l(t[1])+15).attr("y1",o/2).attr("y2",o/2).attr("stroke","#525252").attr("stroke-width","0.4rem").attr("stroke-linecap","round").attr("opacity","0.3");var s=c.append("g").attr("id","moveMouse").attr("fill","none").attr("style","cursor:pointer").attr("transform","translate( ".concat(l(r),", 11 ) scale(0.1)")).on("mouseover",(function(){c.select("#rect1").attr("opacity","100"),c.select("#line").attr("opacity","100")})).on("mouseout",(function(){c.select("#rect1").attr("opacity","0.3"),c.select("#line").attr("opacity","0.3")}));s.append("rect").attr("width","529").attr("height","369").attr("rx","172").attr("fill","#ffff").attr("opacity","1"),s.append("rect").attr("width","529").attr("height","369").attr("rx","172").attr("fill","#0d47a1").attr("id","rect1").attr("opacity","0.3"),["M326 67L443.5 184.5L326 302","M203.5 302L86 184.5L203.5 67"].forEach((function(t){s.append("path").attr("d",t).attr("stroke","white").attr("stroke-width","37").attr("stroke-linecap","round")}));var d=0,u=!0;Z.ohM().on("drag",(function(t){u&&(d=t.x,u=!1),Math.abs(t.dx)<200&&(d+=t.sourceEvent.shiftKey?t.dx/30:t.dx),l.invert(d)>3&l.invert(d)<98&&n({value:l.invert(d)-5})}))(c.select("#moveMouse"))}([0,100],r,e,n)}),[r,e,n,o,c]);return(0,j.jsx)("svg",{ref:r,width:o?"1100px":c?"820px":"600px",height:"60px",style:{position:"absolute",bottom:"3rem",left:"calc(30%)"}})},Wt=function(){var t=(0,P.z)(),e=t._xl,n=t._lg,r=(0,i.useState)({state:"none"}),a=(0,h.Z)(r,2),o=a[0],c=a[1],l=(0,T.Z)("div")({boxShadow:"rgb(80,80,255,40%) 4px 4px",display:o.state,border:"1px solid rgb(100,100,100,30%)",borderRadius:"3px",fontFamily:"Montserrat",paddingLeft:"0.8rem",paddingTop:"0.3rem",color:"rgb(70,70,70)",position:"absolute",bottom:"2rem",left:n?"calc(74.4%)":"calc(74%)",width:e?"595px":n?"433px":"292px",background:"rgb(255,255,255,87%)"}),s=(0,T.Z)("div")({fontSize:e?"25px":n?"20px":"14px",fontFamily:"Montserrat",border:"2px solid rgb(00,80,255,80%)",background:"rgb(00,80,255,30%)",borderRadius:"3px",cursor:"pointer",color:"rgb(70,70,70)",textAlign:"center",paddingBlock:"0.2rem","&:hover":{border:"2px solid #0d50a1",background:"rgb(00,80,255,10%)"}}),d=function(t){"none"===o.state?c({state:"block"}):c({state:"none"})};return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(s,{onClick:function(){return d()},children:(0,j.jsx)("strong",{children:" Informaci\xf3n "})}),(0,j.jsx)(l,{onClick:function(){return d()},children:[["Shift + Mouse Wheel:","En las gr\xe1ficas de flujo gobierna el intervalo de tiempo a visualizar."],["Shift + Mouse Click","Permite la exploraci\xf3n lenta de las gr\xe1ficas de flujo."],["Mouse Click","Permite dibujar rectangulos para definir el zoom sobre los gr\xe1ficos de flujo."],["Drag & Drop","Las gr\xe1ficas de los KPI's se pueden arrastrar para organizar una visulizaci\xf3n conveniente."]].map((function(t,r){return(0,j.jsxs)("div",{style:{fontSize:e?"22px":n?"16px":"12px"},children:[(0,j.jsx)("strong",{children:t[0]}),(0,j.jsx)("p",{style:{marginBlock:"0.3rem"},children:t[1]})]},r)}))})]})},Gt=function(t){var e=t.data,n=t.select,r=t.setSelect,a=t.labels,o=(0,P.z)(),c=o._xl,l=o._lg,s=(0,i.useState)({state:"none"}),d=(0,h.Z)(s,2),u=d[0],p=d[1],f=(0,T.Z)("div")({boxShadow:"rgba(0, 0, 0, 0.4) 5px 5px 5px 3px",display:u.state,border:"1px solid rgb(100,100,100,60%)",borderRadius:"3px",fontFamily:"Montserrat",paddingLeft:"0.8rem",paddingTop:"0.3rem",color:"rgb(70,70,70)",position:"absolute",top:c?"15%":l?"35%":"12%",left:c?"27.5%":l?"28.5%":"29%",width:c?"1350px":l?"1035px":"800px",background:"rgb(255,255,255,95%)","&:hover":{zIndex:"1000"}}),m=(0,T.Z)("div")({fontSize:c?"25px":l?"20px":"14px",fontFamily:"Montserrat",border:"2px solid rgb(00,80,255,80%)",background:"rgb(00,80,255,30%)",borderRadius:"3px",cursor:"pointer",color:"rgb(70,70,70)",textAlign:"center",paddingBlock:"0.2rem","&:hover":{border:"2px solid #0d50a1",background:"rgb(00,80,255,10%)"}}),x=(0,T.Z)("div")({width:"25%",display:"flex",alignItems:"center",marginBlock:"0.1rem"}),g=(0,T.Z)("input")({cursor:"pointer",transform:"scale(".concat(c||l?1.8:1,")"),height:c||l?"1.5rem":"1rem"}),y=function(t){var e=(0,T.Z)("label")({padding:"0.12rem",fontSize:c?"25px":l?"20px":"14px",marginLeft:"0.5rem",cursor:"pointer",border:"2px solid ".concat(t.color?"rgb(199, 143, 137)":"#fff"),background:t.color?"#fef2e1":"#fff",borderRadius:"0.2rem","&:hover":{border:"2px solid #0d50a1",background:"rgb(00,80,255,10%)"}});return(0,j.jsxs)(e,{htmlFor:t.htmlFor,children:[" ",t.children," "]})},b=(0,T.Z)("svg")({borderRadius:"3px",marginRight:"0.2rem",cursor:"pointer","&:hover":{background:"rgb(00,80,255,30%)"}}),w=function(t){if(0===e.length)return 0;var n=e.find((function(e){return e.name===t[0]})),r=parseFloat(t[4].split("-")[0]),a=parseFloat(t[4].split("-")[1]),i=(0,dt.h)(n.data[3].map((function(t){return t[0]})));return n.data[3].findIndex((function(t){return(0===t[0]?i:t[0])<=r}))>=0||n.data[3].findIndex((function(t){return(0===t[0]?i:t[0])>=a}))>=0},C=function(t){"none"===u.state?p({state:"block"}):p({state:"none"})},Z=function(t){localStorage.removeItem("intervalos"),n.findIndex((function(e){return e===t.target.value}))>=0?r((0,_.Z)(n.filter((function(e){return e!==t.target.value})))):r([].concat((0,_.Z)(n),[a.find((function(e){return e[0]===t.target.value}))[0]]))};return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(m,{onClick:function(){return C()},children:(0,j.jsx)("strong",{children:" Cat\xe1logo "})}),(0,j.jsxs)(f,{children:[(0,j.jsxs)(v.D,{children:["Cat\xe1logo de variables",(0,j.jsx)("span",{onClick:function(){return C()},align:"rigth",style:{paddingLeft:c?"calc(75.5%)":l?"calc(75%)":"calc(76%)"},children:(0,j.jsx)(b,{width:c?"45":"30",height:c?"45":"30",viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,j.jsx)("path",{d:"M26.3 0.8H9.3C7.7 0.8 6.4 2.1 6.4 3.6V20.6C6.4 22.2 7.7 23.4 9.3 23.4H26.3C27.9 23.4 29.1 22.2 29.1 20.6V3.6C29.1 2.1 27.9 0.8 26.3 0.8ZM26.3 20.6H9.3V3.6H26.3V20.6ZM3.6 6.4V26.3H23.4V29.1H3.6C2.1 29.1 0.8 27.9 0.8 26.3V6.4H3.6ZM11.8 16.1L15.8 12.1L11.8 8.1L13.8 6.1L17.8 10.1L21.8 6.1L23.8 8.1L19.8 12.1L23.8 16.1L21.8 18.1L17.8 14.1L13.8 18.1L11.8 16.1Z",fill:"black",fillOpacity:"0.65"})})})]}),(0,j.jsx)("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap",marginBlock:"1rem"},children:a.map((function(t,e){return(0,j.jsxs)(x,{children:[(0,j.jsx)(g,{id:"".concat(e,"label[0]"),type:"radio",value:t[0],checked:n.findIndex((function(e){return e===t[0]}))>=0,onChange:function(t){return Z(t)},onClick:function(t){return Z(t)}}),(0,j.jsx)(y,{htmlFor:"".concat(e,"label[0]"),color:w(t),children:t[1]})]},e)}))})]})]})},Jt=function(t,e,n,r,a){var i=e?"14px":"12px",o="rgba(0, 91, 165, 1)",c=function(){var t=(0,K.u)("lastHour"),e=(new Date).toLocaleString();return parseInt(t.split("T")[1].split(":")[0]-st(e.split(", ")[1]+"").split(":")[0]+"")}(),l=new Date("".concat(a[2],"-").concat((0,G.r)(a[1]),"-").concat((0,G.r)(a[0])).concat((new Date).toLocaleString().split(",")[1].split(":")[0],":00:00")),s=function(t){return new Date(new Date(l).toLocaleString().split(",")[0].split("/").reverse().join("-")+t)},d=e?24:23,u=5,p=15,f=e?18:15,m=5,h=Z.Ys(n.current);h.selectAll("*").remove();var x=h._groups[0][0].clientWidth,g=h._groups[0][0].clientHeight,v=h.append("g").attr("width","".concat(x)).attr("height","".concat(g-u)),y=Z.Xf().domain([s(" 00:00:00"),s(" 23:59:00")]).range([f+m,x-d]).nice();v.append("g").attr("transform","translate(0, ".concat(p,")")).call(Z.LLu(y)).attr("font-size",i).attr("color",o).attr("opacity","0.95").attr("stroke-width",2.7).selectAll("text").attr("transform","translate(0,3)").attr("style","font-size:".concat(i,"; font-family: Montserrat !important")).attr("id",(function(t,e){return"id_".concat(new Date(t).toLocaleString().split(" ")[1].split(":")[0],"-").concat(e)}));var j=(0,_.Z)(Array(24)).map((function(t,e){return parseInt(e)<10?"0".concat(e):"".concat(e)})).map((function(t){return new Date(new Date(l).toLocaleString().split(",")[0].split("/").reverse().join("-")+" ".concat(t,":00:00"))})),b=function(t){return t<=new Date};v.append("g").selectAll("circle").data(j).enter().append("circle").attr("id",(function(t,e){return"circ".concat(e)})).attr("fill",(function(t){return b(t)?o:"white"})).attr("stroke",(function(t){return b(t)?"none":o})).attr("stroke-width",1.7).attr("cx",(function(t){return y(t)})).attr("cy",(function(t){return g/2-(e?9:7)})).attr("r",e?9:6).attr("cursor",(function(t){return b(t)?"pointer":"default"})).on("mouseout",(function(t){return Z.Ys("#".concat(t.originalTarget.id)).attr("stroke",o).attr("stroke-width",1.7).attr("r",e?9:6)})).on("mouseover",(function(t,n){return Z.Ys("#".concat(t.originalTarget.id)).attr("stroke",(function(){return b(n)?"#09B3A5":o})).attr("stroke-width",(function(){return b(n)?4:1.7})).attr("r",(function(){return b(n)?e?10:6:e?9:6}))})).on("mousedown",(function(t,e){var n=new Date(e.getTime()+36e5*c);b(e)&&r("T".concat((0,G.r)(n.getHours()),":00:00Z"))}))},Xt=function(t){var e=t.setHour,n=t.dayNow,r=(0,P.z)(),a=r._xl,o=r._lg,c=(0,i.useRef)(null);(0,i.useEffect)((function(){Jt(0,o,c,e,n)}),[a,o,c,e,n]);return(0,j.jsx)("svg",{ref:c,width:"100%",height:o?"55px":"50px",style:{border:"2px solid hsl(242, 0%, 35%)",borderRadius:"0.2rem",paddingBlock:"0.3rem"}})},qt=n(3981),Kt=function(t){var e=t.data,n=(0,P.z)(),r=n._xl,a=n._lg,o=(0,i.useState)({state:"hidden"}),l=(0,h.Z)(o,2),s=l[0],d=l[1],u=function(){"hidden"===s.state?d({state:"visible"}):d({state:"hidden"})},p=(0,T.Z)("div")({fontSize:r?"25px":a?"20px":"14px",fontFamily:"Montserrat",border:"2px solid rgb(00,80,255,80%)",background:"rgb(00,80,255,30%)",borderRadius:"3px",cursor:"pointer",color:"rgb(70,70,70)",textAlign:"center",paddingInline:"0.5rem",marginRigth:"0.5rem",width:"100%",paddingBlock:"0.2rem","&:hover":{border:"2px solid #0d50a1",background:"rgb(00,80,255,10%)"}}),f=(0,T.Z)("div")({boxShadow:"rgba(0, 0, 0, 0.4) 5px 5px 5px 3px",visibility:s.state,border:"1px solid rgb(100,100,100,60%)",borderRadius:"3px",fontFamily:"Montserrat",paddingLeft:"0.8rem",paddingTop:"0.3rem",color:"rgb(70,70,70)",position:"absolute",width:r?"1000px":a?"400px":"300px",background:"rgb(255,255,255,95%)","&:hover":{zIndex:"1000"}}),m=(0,T.Z)("svg")({borderRadius:"3px",marginRight:"0.2rem",cursor:"pointer","&:hover":{background:"rgb(00,80,255,30%)"}});return(0,j.jsxs)(c.ZP,{item:!0,container:!0,align:"center",xs:4,children:[(0,j.jsx)(p,{onClick:function(){return u()},children:(0,j.jsxs)("strong",{children:[" ",e.title1," "]})}),(0,j.jsxs)(f,{children:[(0,j.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,j.jsx)(v.D,{children:e.title2}),(0,j.jsx)("div",{children:(0,j.jsx)("span",{onClick:function(){return u()},children:(0,j.jsx)(m,{width:r?"45":"30",height:r?"45":"30",viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,j.jsx)("path",{d:"M26.3 0.8H9.3C7.7 0.8 6.4 2.1 6.4 3.6V20.6C6.4 22.2 7.7 23.4 9.3 23.4H26.3C27.9 23.4 29.1 22.2 29.1 20.6V3.6C29.1 2.1 27.9 0.8 26.3 0.8ZM26.3 20.6H9.3V3.6H26.3V20.6ZM3.6 6.4V26.3H23.4V29.1H3.6C2.1 29.1 0.8 27.9 0.8 26.3V6.4H3.6ZM11.8 16.1L15.8 12.1L11.8 8.1L13.8 6.1L17.8 10.1L21.8 6.1L23.8 8.1L19.8 12.1L23.8 16.1L21.8 18.1L17.8 14.1L13.8 18.1L11.8 16.1Z",fill:"black",fillOpacity:"0.65"})})})})]}),(0,j.jsx)(qt.R,{data:e.body})]})]})},Qt=function(t){var e=t.args,n={marginBottom:"0.1rem"},r=e.data,a=e.dayNow,o=e.id,l=(0,i.useState)([]),s=(0,h.Z)(l,2),d=s[0],u=s[1],p=(0,i.useState)(["FIO2","respir_rate","mean_press","PEEP","peakP","tidal_volume_set_334","power","inspTV"]),f=(0,h.Z)(p,2),m=f[0],x=f[1];return(0,i.useEffect)((function(){!function(t,e,n){var r="".concat(t[2],"-").concat((0,G.r)(t[1]),"-").concat((0,G.r)(t[0])),a=(0,K.u)("lastHour"),i=X.b0.urlServer,o=X.b0.requestOptionsGet;fetch("".concat(i,"Observation?identifier=").concat(r).concat(a,"&identifier=metricas&subject=").concat(e),o).then((function(t){t.text().then((function(t){var e=JSON.parse(t);if(e.total>0){var r=e.entry[0].resource.component.filter((function(t){return t.code.coding})).map((function(t){return[t.code.coding[0].display.split(":")[1],t.code.coding[1].display.split(":")[1],t.code.coding[2].display.split(":")[1],t.code.coding[3].display.split(":")[1],t.code.coding[4].display.split(":")[1]]}));n(r)}}))}))}(a,o,u)}),[a,o]),(0,j.jsxs)(j.Fragment,{children:[m.map((function(t,e){var i=r.find((function(e){return e.name===t}));return(0,j.jsx)(c.ZP,{item:!0,xs:6,xl:6,align:"center",children:(0,j.jsx)("div",{style:n,children:void 0!==i&&(0,j.jsx)(zt,{day:a,idPat:o,id:e,color_index:e,title:d.find((function(e){return e[0]===t})),tendencia:null===i||void 0===i?void 0:i.data[0],prom:null===i||void 0===i?void 0:i.data[1],value:null===i||void 0===i?void 0:i.data[2],array:i.data[3].map((function(t){return[parseFloat(t[0])?parseFloat(t[0]):parseFloat(null===i||void 0===i?void 0:i.data[1]),t[1]]}))})})},e)})),(0,j.jsx)(c.ZP,{item:!0,xs:12,children:(0,j.jsx)(Gt,{data:r,select:m,setSelect:x,labels:d.filter((function(t){return["diagnosis","age","height","weight","gender","PBW","BMI","assessment","comment_out","mode"].map((function(e){return e!==t[0]})).findIndex((function(t){return!1===t}))<0}))})})]})},$t=function(t){var e=t.data,n={marginBottom:"0.3rem",border:"2px solid hsl(242, 0%, 35%)",borderRadius:"0.2rem",paddingTop:"0.2rem"},r=(0,i.useState)({value:80}),a=(0,h.Z)(r,2),o=a[0],l=a[1],s=(0,i.useState)(200),d=(0,h.Z)(s,2),u=d[0],p=d[1];return(0,j.jsxs)(c.ZP,{container:!0,item:!0,direction:"row",xs:8,xl:8,spacing:1,columns:12,children:[(0,j.jsx)(c.ZP,{item:!0,container:!0,align:"center",xs:12,spacing:1,children:e.length>0&&[["flow_exp_amplitudes","FlowExp","#006350"],["flow_signal","FlowSignal","#09AD84"],["press_signal","PressSignal","#009196"],["press_amplitudes","PressAmp","#097CAD"],["flow_insp_amplitudes","FlowAmp","#04224A"]].map((function(t,r){var a=e.find((function(e){return e.name===t[0]}));return void 0!==a?(0,j.jsx)(c.ZP,{item:!0,align:"center",xs:6,children:(0,j.jsx)("div",{style:n,children:(0,j.jsx)(Bt,{data:a,name:t[1],point:o.value,setPoint:l,len:u,setLen:p,color:t[2]})})},r):(0,j.jsx)("span",{})}))}),(0,j.jsx)(c.ZP,{item:!0,align:"center",xs:12,children:e.length>0&&(0,j.jsx)(Yt,{set:l,point:o.value})})]})},te=function(t){var e={title1:"Inf. Demogr\xe1fica",title2:"Informaci\xf3n Demogr\xe1fica",body:[]};return[["PBW","PWM",""],["BMI","BMI",""],["age","Edad","A\xf1os"],["weight","Peso","Kg"],["height","Altura","cm"]].forEach((function(n){var r=t.find((function(t){return t.name===n[0]}));r&&e.body.push({name:"".concat(n[1],":"),data:"".concat(r.data[2]," ").concat(n[2])})})),e},ee=function(t){var e={title1:"Evaluaciones",title2:"Evaluaciones",body:[]};return[["assessment","Evaluaci\xf3n",""]].forEach((function(n){var r=t.find((function(t){return t.name===n[0]}));r&&r.data[3].find((function(t){return t[0].length>=1}))[0].filter((function(t){return t.length>0})).forEach((function(t){e.body.push({name:"".concat(n[1],":"),data:t.split(".")[1]})}))})),e},ne=function(t){var e={title1:"Modos",title2:"Modos",body:[]};return[["mode","Modo",""]].forEach((function(n){var r=t.find((function(t){return t.name===n[0]}));r&&("NA"!==r.data[3][0][0]?r.data[3].find((function(t){return t[0].length>=1}))[0].split(" ")[1].split("/").forEach((function(t){e.body.push({name:"".concat(n[1],":"),data:t})})):e.body.push({name:"".concat(n[1],":"),data:"NA"}))})),e},re=function(t){var e=t.dt,n=(0,g.A)(),r=(0,P.z)(),a=r._xl,l=r._lg,s=(0,h.Z)(e,2),d=s[0],u=s[1],p=(0,i.useState)((0,K.u)("lastHour")),f=(0,h.Z)(p,2),m=f[0],x=f[1],v=(0,i.useState)([]),y=(0,h.Z)(v,2),b=y[0],w=y[1],C=(0,i.useState)("Recuperando informaci\xf3n"),Z=(0,h.Z)(C,2),k=Z[0],F=Z[1];(0,i.useEffect)((function(){F("Recuperando informaci\xf3n"),q(u,m,d,w,F)}),[u,d,w,F,m]);return(0,j.jsx)(o.Z,{className:[n.px,n.bg_white,n.my_1,n.py].join(" "),style:{height:a?"950px":l?"805px":"708px",overflowY:"scroll",scrollBehavior:"smooth"},children:(0,j.jsxs)(c.ZP,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"flex-start",spacing:1,children:[[te,ee,ne].map((function(t,e){return(0,j.jsx)(Kt,{data:t(b)},e)})),(0,j.jsx)(c.ZP,{item:!0,container:!0,align:"center",xs:12,children:(0,j.jsx)(Xt,{setHour:x,dayNow:u})}),(0,j.jsx)(c.ZP,{item:!0,container:!0,align:"center",xs:6,children:(0,j.jsx)("div",{style:{paddingBlock:"0.2rem",fontSize:"1.2rem",fontWeight:"bold"},children:"Hora del registro: ".concat(function(){var t=new Date("".concat(u[2],"-").concat((0,G.r)(u[1]),"-").concat((0,G.r)(u[0])).concat(m));return new Date(t.getTime()+36e5).toLocaleString()}().split(", ")[1])})}),(0,j.jsx)($t,{data:b}),(0,j.jsxs)(c.ZP,{container:!0,item:!0,direction:"row",xs:4,xl:4,spacing:1,children:[(0,j.jsx)(Qt,{args:{data:b,dayNow:u,id:d}}),(0,j.jsx)(c.ZP,{item:!0,xs:12,children:(0,j.jsx)(Wt,{})})]}),!(b.length>0)&&(0,j.jsx)(W.D,{children:k})]})})},ae=n(1288),ie=n(6314),oe=n(2794),ce=function(t,e,n){var r={};return n.forEach((function(t){return r[t]=[]})),Array.isArray(t)&&t.forEach((function(t,a){var i;(null===t||void 0===t||null===(i=t.resource)||void 0===i?void 0:i.total)>0&&t.resource.entry[0].resource.code.coding.forEach((function(t,i){return r["".concat(Object.keys(r)[a])].push({label:e[e.length===n.length?a:i],value:t.display})}))})),r},le=function(t,e){t.sinAsignar=[],Object.keys(e).forEach((function(n,r){if(e[n][0])if("--"!==e[n][0].value){var a=function(t){var e=t.split("-"),n=(0,h.Z)(e,2),r=n[0],a=n[1];return[r.replace(/[ .]/g,""),a]}(e[n][0].value),i=(0,h.Z)(a,2),o=i[0],c=i[1];o.search("a")>-1&&o.split(":")[0]>=6||o.search("p")>-1&&o.split(":")[0]<6?t.dia.push({label:n,time:o,interval:c}):t.noche.push({label:n,time:o,interval:c})}else t.sinAsignar.push({label:n})}))},se=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(e,n,a){var i,o,c,l,s,d,u;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=[{resource:"Basic",identifier:"ProgramacionEnferIzq",args:[["ProgramacionEnfer","izq"],"BD","BI","PD","PI","T\xf3rax","NA","NOMBRE: Enfermero Turno Diurno"],daily:!0},{resource:"Basic",identifier:"ProgramacionEnferDer",args:[["ProgramacionEnfer","der"],"BD","BI","PD","PI","T\xf3rax","NA","NOMBRE: Enfermero Turno Nocturno"],daily:!0}],o="".concat(n[2],"-").concat((0,G.r)(n[1]),"-").concat((0,G.r)(n[0])),t.next=4,(0,oe.H)(e,i,o);case 4:return c=t.sent,l={resources:[{resource:"Basic",identifier:"ProgramacionEnfer",args:["ProgramacionEnfer"]}],fields:["Aseo y Confort","Aseo Matinal","Ba\xf1o en Cama","Lavado de Pelo","Aseo Genital","Aseo Cavidades","Aseo Ocular","Prevenci\xf3n UPP","Colch\xf3n ant-esc.","Movilizaci\xf3n","Riesgo Medio(4h)","Riesgo alto(2h)","Medidas Aisl.","Ba\xf1o Clorex","Aseo Bucal","Procedimientos","Curaci\xf3n CVC","Cms0","Sitio de inserci\xf3n","Puntos de fijaci\xf3n","UPP","Ubicaci\xf3n","Grado","Instalaci\xf3n Dispositivos","VVP/LA/SF","Cms1","Cms2","Cms3"]},t.next=8,(0,oe.H)(e,l,o);case 8:s=t.sent,d=(0,w.Z)((0,w.Z)({},ce([c[0]],i[0].args.slice(1),["dia"])),ce([c[1]],i[1].args.slice(1),["noche"])),u=(0,w.Z)({},ce(s,l.fields,l.fields)),le(d,u),console.log(d),a(d);case 14:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),de=function(t){var e=t.data,n=t.jornada,r=(0,P.z)(),a=r._xl,o=r._lg,c=(0,i.useRef)(null),l=(0,i.useRef)(null);return(0,i.useEffect)((function(){ue(e,n,c,l,a,o)}),[e,n,c,l,a,o]),(0,j.jsxs)("div",{children:[(0,j.jsx)("svg",{ref:c,width:"100%",height:"45"}),(0,j.jsx)("svg",{ref:l,width:"100%"})]})},ue=function(t,e,n,r,a,i){var o=Object.keys(t).length>0?t["D\xeda"===e?"dia":"noche"].filter((function(t){return t.time})):0,c=a?"16px":i?"15px":"13px",l=a?"15px":i?"14px":"12px",s=a||i?"18px":"15px",d=30,u={top:a||i?20:12,right:a?40:35,bottom:a?13:i?14:18,left:a?40:i?35:30},p=function(t){return new Date((new Date).toLocaleString().split(",")[0].split("/").reverse().join("-")+" "+t)},f=Z.Ys(n.current),m=Z.Ys(r.current);f.selectAll("*").remove(),m.selectAll("*").remove(),m.attr("height",document.getElementById("labels").offsetHeight+30);var h,x=m._groups[0][0].clientWidth,g=m._groups[0][0].clientHeight,v=[p("D\xeda"===e?"06:00:00":"18:00:00"),"D\xeda"===e?p("18:00:00"):(h="06:00:00",new Date(new Date((new Date).getTime()+864e5).toLocaleString().split(",")[0].split("/").reverse().join("-")+" "+h))],y=Z.Xf().domain([v[0],v[1]]).range([u.left,x-u.right]).nice(),j=null!==t&&void 0!==t&&t.dia||null!==t&&void 0!==t&&t.noche?t["D\xeda"===e?"dia":"noche"].filter((function(t){return t.time})).length:1,b=Z.BYU().domain([0,j]).range([u.top,g-u.bottom]);f.append("g").attr("transform","translate(0, ".concat(d,")")).call(Z.F5q(y).ticks(10).tickSize(0)).call((function(t){return t.select(".domain").remove()})).attr("color","black").attr("opacity","0.8").attr("font-weight","400").selectAll("text").attr("style","font-size:".concat(c,"; font-family: Montserrat !important")),m.append("g").selectAll("line").data(o).enter().append("line").attr("x1",0).attr("y1",(function(t,e){return b(e)})).attr("x2",x-(a?15:i?10:20)).attr("y2",(function(t,e){return b(e)})).attr("stroke-width",i?2.3:2).attr("stroke","rgba(139, 137, 137, 0.87)").attr("stroke-linecap","round").attr("stroke-dasharray","4 5").attr("opacity",.75),m.append("g").selectAll("rect").data(o).enter().append("rect").attr("height",a?25:i?20:18).attr("width",a?75:i?70:60).attr("x",(function(t){return y(p(st(t.time)))-(a?36.5:i?35:30)})).attr("y",(function(t,e){return b(e)-(a?12.5:i?10:9)})).attr("rx",6).attr("ry",6).attr("fill","rgba(9, 155, 189, 1)").attr("stroke-width",2),m.append("g").selectAll("text").data(o).enter().append("text").text((function(t){return"".concat(t.interval.replace(/[ m]/g,"")," min")})).attr("x",(function(t){return y(p(st(t.time)))-1.7*parseInt(l.replace(/px/g,""))})).attr("y",(function(t,e){return b(e)+4})).attr("text-anchor","start").attr("alignment-baseline","middle").attr("font-family","Montserrat").attr("font-size",l).attr("font-weight","bold").attr("fill","white").on("mouseover",(function(t,e){m.select("#textLegend").text("".concat(e.label," - ").concat(e.time," - ").concat(e.interval))})).on("mouseout",(function(){m.select("#textLegend").text("")})),m.append("text").attr("id","textLegend").attr("x",x/2).attr("y",g-u.bottom).attr("text-anchor","middle").attr("alignment-baseline","middle").attr("font-family","Montserrat").attr("font-size",s).attr("font-weight","bold").attr("fill","rgba(0, 91, 165, 1)")},pe=function(t){var e=t.dt,n=(0,g.A)(),c=(0,P.z)(),l=c._xl,s=c._lg,d=(0,h.Z)(e,2),u=d[0],p=d[1],f=(0,i.useState)({}),m=(0,h.Z)(f,2),v=m[0],y=m[1],b=(0,i.useState)({state:"D\xeda"}),C=(0,h.Z)(b,2),Z=C[0],k=C[1];(0,i.useEffect)((function(){var t=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,se(u,p,y);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[u,p]),console.log(v,Z.state);var F=function(t){var e=t.set;return(0,j.jsx)(ie.Z,{style:{margin:"0.5rem",position:"relative"},spacing:1,direction:"row",children:["D\xeda","Noche"].map((function(t,n){return(0,j.jsx)(x.Z,{variant:t===Z.state?"outlined":"contained",onClick:function(t){e({state:t.target.firstChild.data})},style:{fontSize:s?"0.9rem":"0.7rem"},children:t},n)}))})},S={fontFamily:"Montserrat",fontWeight:"bold",color:"rgba(0, 91, 165, 1)",paddingBlock:"0.2rem",marginLeft:"0.5rem",fontSize:s?"1.3rem":"0.8rem",lineHeight:s?"1.4rem":"0.85rem"},A={fontFamily:"Montserrat",background:"rgba(0, 91, 165, 1)",color:"white",margin:"0.4rem",padding:"0.3rem",width:"fit-content",borderRadius:"0.3rem",fontSize:s?"1.1rem":"0.7rem"},_=(0,w.Z)((0,w.Z)({},S),{},{border:"1px solid rgba(0, 91, 165, 1)",borderRadius:"0.3rem",padding:"0.3rem",margin:"0.4rem"}),M=(0,w.Z)((0,w.Z)({},A),{},{border:"1px solid rgba(0, 91, 165, 1)",borderRadius:"0.3rem",padding:"0.3rem"}),L={fontFamily:"Montserrat",marginLeft:"0.5rem",fontWeight:"500",fontSize:s?"1.3rem":"0.8rem"};return(0,j.jsxs)(o.Z,{mt:2,pb:1,style:{background:"white",height:l?"930px":s?"805px":"685px"},children:[(0,j.jsx)("div",{className:[n.text_white,n.bg_blue,n.my_0].join(" "),children:(0,j.jsx)(W.D,{children:"Panel de Eventos"})}),(0,j.jsxs)(ae.Z,{container:!0,direction:"row",justifyContent:"space-evenly",alignItems:"flex-start",children:[(0,j.jsxs)(ae.Z,{item:!0,xs:3,children:[(0,j.jsx)(F,{set:k}),(0,j.jsx)("div",{id:"labels",children:v["D\xeda"===Z.state?"dia":"noche"]?v["D\xeda"===Z.state?"dia":"noche"].filter((function(t){return t.time})).filter((function(t){return t.label.search("NOMBRE")<0})).map((function(t,e){return(0,j.jsx)("div",{style:S,children:t.label},e)})):(0,j.jsx)("span",{})})]}),(0,j.jsx)(ae.Z,{item:!0,xs:9,children:(0,j.jsx)(de,{data:v,jornada:Z.state})})]}),(0,j.jsx)(o.Z,{mt:3,children:(0,j.jsxs)(ae.Z,{container:!0,direction:"row",justifyContent:"space-evenly",alignItems:"flex-start",spacing:2,children:[(0,j.jsxs)(ae.Z,{item:!0,xs:6,children:[(0,j.jsx)(W.D,{color:"blue",children:"Sin asignar"}),(0,j.jsx)("div",{style:{display:"flex",flexGrow:"4",flexWrap:"wrap"},children:v.sinAsignar?v.sinAsignar.map((function(t,e){return(0,j.jsx)("div",{style:A,children:t.label},e)})):(0,j.jsx)("span",{})})]}),(0,j.jsxs)(ae.Z,{item:!0,xs:6,children:[(0,j.jsxs)(W.D,{color:"blue",children:["Contenci\xf3n f\xedsica ","D\xeda"===Z.state?"diurna":"nocturna"]}),v["D\xeda"===Z.state?"dia":"noche"]?(0,j.jsx)("div",{style:{display:"flex",flexGrow:"4",flexWrap:"wrap"},children:v["D\xeda"===Z.state?"dia":"noche"].filter((function(t){return!t.time&t.label.search("NOMBRE")})).map((function(t,e){return(0,j.jsxs)("div",{style:"Si"===t.value?_:M,children:[t.label," : ",t.value]},e)}))}):(0,j.jsx)("span",{}),(0,j.jsxs)("div",{style:{marginTop:"2rem"},children:[(0,j.jsxs)(W.D,{color:"blue",children:["Enfermero/a turno ","D\xeda"===Z.state?"d\xeda":"noche"]}),(0,j.jsx)("div",{style:{marginTop:"0.5rem"},children:v["D\xeda"===Z.state?"dia":"noche"]?v["D\xeda"===Z.state?"dia":"noche"].filter((function(t){return t.label.search("NOMBRE")>-1})).map((function(t){return(0,j.jsx)("div",{style:L,children:t.value})})):(0,j.jsx)("span",{})})]})]})]})})]})},fe=function(t){var e=t.data,n=e.input.map((function(t,e){return{name:t.text.split(":")[1],value:parseFloat(t.data[2].display)}}));n.pop();var r=e.output.map((function(t,e){return{name:t.text.split(":")[1],value:parseFloat(t.data[2].display)}}));r.pop();var a="rgba(0, 91, 165, 1)",o="#005BA5",c="#003159",l=(0,P.z)(),s=l._xl,d=l._lg,u=i.useRef(null),p={top:15,bottom:15,left:s?55:40,right:s?65:60,w:s?60:32,offSetY:100};return(0,i.useEffect)((function(){var t=Z.Ys(u.current);t.selectAll("*").remove();var e=t._groups[0][0].clientWidth,i=t._groups[0][0].clientHeight,l=t.append("g").attr("width","".concat(e)).attr("height","".concat(i));l.append("rect").attr("x",0).attr("y",0).attr("width","100%").attr("height","100%").style("fill","#DCF0F4");var f=Z.Fp7([n.length,r.length]),m=Z.BYU().domain([1,f]).range([p.left+5+p.w,e-p.right]),h=Z.BYU().domain([Z.Fp7(n.map((function(t){return t.value}))),-Z.Fp7(r.map((function(t){return t.value})))]).range([p.top,i-p.bottom]);l.append("g").attr("transform","translate( ".concat(p.left," ,0)")).call(Z.y4O(h).tickSizeOuter(0).ticks(7).tickSizeInner(-e+p.right)).call((function(t){return t.selectAll(".tick line").attr("stroke-opacity",.4).attr("stroke-dasharray","2,3")})).attr("font-family","Montserrat").attr("font-size",s?"13px":"10px").attr("color",a).attr("opacity","0.75"),l.append("g").attr("transform","translate( 0 , ".concat(h(0),")")).call(Z.LLu(m)).attr("font-family","Montserrat").attr("font-size","0px").attr("color",a),l.append("g").selectAll("rect").data(n).enter().append("rect").attr("x",(function(t,e){return m(e+1)})).attr("y",(function(t){return h(t.value)})).attr("height",(function(t){return h(0)-h(t.value)})).attr("width",p.w).attr("fill",o).attr("opacity",.8),l.append("g").selectAll("rect").data(n).enter().append("rect").attr("x",(function(t,e){return m(e+1)})).attr("y",p.top).attr("height",h(0)-p.top).attr("width",p.w).attr("fill",o).attr("opacity",.2),l.selectAll(null).data(n).enter().append("text").text((function(t){return d?t.name:t.name.slice(0,7).replace(/[^a-zA-Z\xf3\xe9\xe1]/g,"")+"."})).attr("x",(function(t,e){return m(e+1)-1.2*(d?t.name.length:7)})).attr("y",(function(t){return h(t.value)-3})).attr("font-family","Montserrat").attr("font-size","12px").attr("fill",o),l.append("g").selectAll("rect").data(r).enter().append("rect").attr("x",(function(t,e){return m(e+1)-p.w})).attr("y",h(0)).attr("height",(function(t){return h(0)-h(t.value)})).attr("width",p.w).attr("fill",c).attr("opacity",.8),l.append("g").selectAll("rect").data(r).enter().append("rect").attr("x",(function(t,e){return m(e+1)-p.w})).attr("y",h(0)).attr("height",i/2-28).attr("width",p.w).attr("fill",c).attr("opacity",.2),l.selectAll(null).data(r).enter().append("text").text((function(t){return d?t.name:t.name.slice(0,7).replace(/[^a-zA-Z\xf3\xe9]/g,"")+"."})).attr("x",(function(t,e){return m(e+1)-p.w-.6*(d?t.name.length:7)})).attr("y",(function(t){return h(-t.value)+8})).attr("font-family","Montserrat").attr("font-size","12px").attr("fill",o)})),(0,j.jsx)("svg",{ref:u,width:"100%",height:s?"235":d?"200":"208"})},me=n(8091),he=function(t){var e=t.dt,n=(0,g.A)(),r=(0,P.z)(),a=r._xl,l=r._lg,s=(0,h.Z)(e,2)[1],d=(0,i.useState)({input:[{data:[0,0,0],text:"-:-"}],output:[{data:[0,0,0],text:"-:-"}],hidratacionBase:[]}),u=(0,h.Z)(d,2),p=u[0],f=u[1];(0,i.useEffect)((function(){var t=JSON.parse(localStorage.getItem("idPatient"));console.log("useEffect del balance hidrico",s),(0,me.Y)(t.id,f,s)}),[s]);var m=function(t){return(0,j.jsx)("div",{className:[n.text_white,n.bg_blue,n.my_0].join(" "),children:(0,j.jsx)(W.D,{children:t})})},x={fontSize:a?"14px":l?"13px":"10px",width:"98%",textAlign:"center",padding:l?"0.25rem":"0.15rem",margin:l?"5px":"3px"},v=function(t){return(0,j.jsx)("div",{className:[n.font_monserrat,n.text_white,n.bg_blue,n.text_bold,n.mx_left].join(" "),style:x,children:t})},y=function(t){return(0,j.jsx)("div",{className:[n.font_monserrat,n.bg_gray2,n.mx_left].join(" "),style:x,children:t})};return(0,j.jsxs)(j.Fragment,{children:[[["Ingresos",p.input],["Egresos",p.output]].map((function(t,e){return(0,j.jsxs)(o.Z,{pb:1,className:n.bg_white,children:[m(t[0]),(0,j.jsxs)(c.ZP,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"flex-start",columns:12,pt:1,pr:1,children:[(0,j.jsx)(c.ZP,{item:!0,xs:1,justifyContent:"space-around",alignItems:"center",children:["Par\xe1metro","7-19","19-7","Total"].map((function(t,e){return(0,j.jsx)(c.ZP,{item:!0,children:v(t)},e)}))}),t[1].map((function(t,e){return(0,j.jsx)(c.ZP,{item:!0,justifyContent:"space-around",alignItems:"center",children:[t.text.split(":")[1]].concat((0,_.Z)(t.data)).map((function(t,e){return e>=4?"":0===e?(0,j.jsx)(c.ZP,{item:!0,children:v(t)},e):(0,j.jsx)(c.ZP,{item:!0,children:y(t.display)},e)}))},e)}))]})]},e)})),(0,j.jsxs)(o.Z,{mt:1,className:n.bg_white,children:[m("Daily Cum"),(0,j.jsxs)(c.ZP,{container:!0,spacing:1,children:[(0,j.jsx)(c.ZP,{item:!0,xs:1,children:(0,j.jsx)(o.Z,{className:[n.font_monserrat,n.center,n.text_bold].join(" "),mt:1,children:"Balance"})}),(0,j.jsx)(c.ZP,{item:!0,xs:11,children:(0,j.jsx)(o.Z,{px:1,mt:1,children:(0,j.jsx)(fe,{data:p})})})]})]}),(0,j.jsx)(o.Z,{mt:1,children:(0,j.jsx)(c.ZP,{container:!0,spacing:1,children:(0,j.jsx)(c.ZP,{item:!0,xs:12,children:(0,j.jsxs)(o.Z,{className:n.bg_white,children:[m("Hidrataci\xf3n horaria"),(0,j.jsxs)(c.ZP,{container:!0,children:[(0,j.jsx)(c.ZP,{item:!0,lg:2,xl:3,className:n.my,children:["Evaluaci\xf3n","Hidrataci\xf3n Base","Perdidas Ins.","Ayuno Patol\xf3gico","Estres Quirurgico"].map((function(t,e){return(0,j.jsx)(o.Z,{mb:1,mr:1,children:v(t)},e)}))}),(0,_.Z)(new Array(8)).map((function(t,e){return(0,j.jsxs)(c.ZP,{item:!0,xs:2,lg:1,className:[n.my,n.mx_left].join(" "),children:[(0,j.jsx)(o.Z,{mb:1,children:v("".concat((3*e+7)%24," - ").concat((3*(e+1)+7)%24))}),(0,j.jsx)(o.Z,{mb:1,children:y(p.hidratacionBase[e]+"ml")})]},e)}))]})]})})})})]})},xe=n(533),ge=function(t){var e=(0,T.Z)("div")({paddingBlock:"0.5rem",paddingInline:"0.8rem",background:"#A7DDFF",border:"1px solid #005BA5",borderRadius:"5px",marginTop:"0.5rem"});return(0,j.jsxs)(e,{children:[(0,j.jsx)(v.D,{style:{textAlign:"center"},children:t.title}),(0,j.jsx)("div",{style:{marginTop:"0.5rem"},children:t.children})]})},ve=n(4942),ye=function(t){var e=(0,T.Z)("div")({paddingBlock:"0.5rem",display:"flex",flexWrap:"wrap"}),n={width:"45%",margin:"0.2rem"};return(0,j.jsx)(e,{children:Object.keys(t.labels).map((function(e,r){return(0,j.jsxs)("div",{style:n,children:[(0,j.jsx)("input",{type:"checkbox",id:e,checked:t.labels[e],style:{transform:"scale(1.4)",cursor:"pointer"},onChange:function(n){return t.set((0,w.Z)((0,w.Z)({},t.labels),{},(0,ve.Z)({},e,n.target.checked)))}}),(0,j.jsx)("label",{htmlFor:e,children:(0,j.jsx)(D.x,{element:!1,style:{marginLeft:"0.5rem",cursor:"pointer"},children:e})})]},r)}))})},je=function(t){t.dt;var e=X.yQ.urlPage,n=X.Yv.postServer,r=X.Yv.urlServer,a=(0,T.Z)("button")({paddingBlock:"0.5rem",paddingInline:"0.8rem",background:"#A7DDFF",border:"1px solid #005BA5",borderRadius:"5px","&:hover":{background:"white"}}),l=JSON.parse(localStorage.getItem("Admision")).date,s=(0,i.useState)({startDate:l,endDate:(new Date).toLocaleString().split(",")[0].split("/").reverse().map((function(t){return(0,G.r)(t)})).join("-")}),d=(0,h.Z)(s,2),u=d[0],p=d[1],f=(0,i.useState)((0,w.Z)({},["Pres. Arterial","Pres. Cardiaca","Temp. Corportal","Frec. Respiratoria"].reduce((function(t,e){return t[e]=!0,t}),{}))),m=(0,h.Z)(f,2),x=m[0],g=m[1],y=(0,i.useState)((0,w.Z)({},["Ingresos","Egresos"].reduce((function(t,e){return t[e]=!0,t}),{}))),b=(0,h.Z)(y,2),C=b[0],Z=b[1],P=(0,i.useState)((0,w.Z)({},["FIO2","Head","Power","Mean Press","Evaluaciones","Peak Press","Plateau Press","Modes","FR","Signal Press","Signal Flow"].reduce((function(t,e){return t[e]=!0,t}),{}))),k=(0,h.Z)(P,2),F=k[0],S=k[1],A=(0,i.useState)((0,w.Z)({},["Ind. M\xe9dicas","Ctr. Hemodin\xe1mico","Ingresos","Bal. H\xeddrico","Exam. f\xedsico","Observaciones","Programaci\xf3n"].reduce((function(t,e){return t[e]=!0,t}),{}))),_=(0,h.Z)(A,2),M=_[0],L=_[1];return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(o.Z,{style:{background:"#0d47a1"},children:(0,j.jsx)(W.D,{color:"white",children:"Versi\xf3n de impresi\xf3n de  la historia cl\xednica"})}),(0,j.jsxs)(o.Z,{style:{background:"white",padding:"0.5rem"},children:[(0,j.jsxs)(c.ZP,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",mb:1,spacing:1,children:[(0,j.jsx)(c.ZP,{item:!0,xs:9,children:(0,j.jsx)(v.D,{children:"Selecci\xf3n de par\xe1metros  para la impresi\xf3n de la histor\xeda cl\xednica:"})}),(0,j.jsx)(c.ZP,{item:!0,xs:3,style:{textAlign:"end"},children:(0,j.jsx)(a,{onClick:function(){return function(){var t=JSON.parse(localStorage.getItem("idPatient")),e=(0,w.Z)((0,w.Z)({},t),{},{periodo:u,dashFlags:x,balFlags:C,respFlags:F,formFlags:M});n.body=JSON.stringify(e),fetch("".concat(r,"?query=pagePrinted"),(0,$.Z)(n,"application/json")).catch((function(t){return console.log("Error en envio de parametros para impresion",t)}))}()},children:(0,j.jsx)(xe.Z,{target:"_blank",href:e,underline:"hover",color:"inherit",children:(0,j.jsx)(D.x,{children:"Versi\xf3n de Impresi\xf3n"})})})})]}),(0,j.jsxs)(c.ZP,{container:!0,spacing:1,direction:"row",justifyContent:"space-between",alignItems:"stretch",children:[(0,j.jsxs)(c.ZP,{item:!0,xs:5,children:[(0,j.jsxs)(ge,{title:"Per\xedodo",children:["Desde:",(0,j.jsx)("input",{type:"date",min:l.replace(/[ ]/g,"").split(":")[0],max:"".concat(u.endDate),value:"".concat(u.startDate),onChange:function(t){return p((0,w.Z)((0,w.Z)({},u),{},{startDate:t.target.value}))}}),(0,j.jsxs)("span",{style:{marginLeft:"0.5rem"},children:["Hasta:",(0,j.jsx)("input",{type:"date",min:l.replace(/[ ]/g,"").split(":")[0],max:"".concat(u.endDate),value:"".concat(u.endDate),onChange:function(t){return p((0,w.Z)((0,w.Z)({},u),{},{endDate:t.target.value}))}})]})]}),(0,j.jsx)(ge,{title:"Balance H\xeddrico",children:(0,j.jsx)(ye,{labels:C,set:Z})}),(0,j.jsx)(ge,{title:"Formulario",children:(0,j.jsx)(ye,{labels:M,set:L})})]}),(0,j.jsxs)(c.ZP,{item:!0,xs:7,children:[(0,j.jsx)(ge,{title:"Respiratorio",children:(0,j.jsx)(ye,{labels:F,set:S})}),(0,j.jsx)(ge,{title:"Dashboard",children:(0,j.jsx)(ye,{labels:x,set:g})})]})]})]})]})},be=function(t){var e=t.DateNow,n=t.set,r=(0,P.z)(),a=r._xl,o=r._lg,c=i.useRef(null),l=a?13:10,s=10;return(0,i.useEffect)((function(){var t=Z.Ys(c.current);t.selectAll("*").remove();var r=t._groups[0][0].clientWidth,i=t._groups[0][0].clientHeight,d=t.append("g").attr("width","".concat(r)).attr("height","".concat(i)),u=function(t){switch(t+1){case 1:return"Enero";case 2:return"Febrero";case 3:return"Marzo";case 4:return"Abril";case 5:return"Mayo";case 6:return"Junio";case 7:return"Julio";case 8:return"Agosto";case 9:return"Septiembre";case 10:return"Octubre";case 11:return"Noviembre";case 12:return"Diciembre"}},p="#005BA5",f="#B5DCE5",m=a?22:o?16:12,h=Z.i$Z("%e"),x=2*i/3,g=864e5,v=new Date(e[2],e[1]-1,e[0]),y=v.getTime()-3*g,j=v.getTime()+3*g,b=Z.BYU().domain([y,j]).range([s,r-l]);d.append("line").attr("id","line").attr("x1",s).attr("y1",x).attr("x2",r-l).attr("y2",x).style("stroke","#AFC3EC").style("stroke-width",a?4:o?3:2);var w=a?2:o?1.7:1,C=a?1.8:o?1.5:1;d.append("path").attr("id","arrowD").attr("d","M4.52043 19.2962L15.0835 11.0951C15.3592 10.8814 15.5766 10.6221 15.7215 10.3343C15.8663 10.0464 15.9353 9.73664 15.9237 9.42531C15.9122 9.11399 15.8206 8.80821 15.6547 8.52815C15.4889 8.24809 15.2527 8.00011 14.9617 7.80059L4.39863 0.56077C4.00731 0.292231 3.53088 0.12098 3.02532 0.0671116C2.51977 0.0132435 2.00604 0.0789908 1.54434 0.256639C1.08264 0.434287 0.692123 0.716471 0.41866 1.07008C0.145197 1.42369 0.000163579 1.83407 0.000451691 2.25307V17.654C-0.00923542 18.0877 0.137083 18.5141 0.42104 18.8797C0.704997 19.2453 1.11399 19.5339 1.59669 19.7093C2.0794 19.8847 2.61435 19.939 3.13449 19.8655C3.65462 19.7921 4.1367 19.594 4.52043 19.2962Z").attr("fill",p).attr("transform","translate( ".concat(r-l-15*C,", ").concat(x-9*w,") scale(").concat(w,")")).on("mouseover",(function(){return Z.Ys("#arrowD").style("cursor","pointer")})).on("mousedown",(function(){v.setTime(v.getTime()+g),n({fecha:[v.getUTCDate(),v.getUTCMonth()+1,v.getUTCFullYear()]})})).on("mouseout",(function(){Z.Ys("#cir".concat(2)).style("fill",p)})),d.append("path").attr("id","arrowI").attr("d","M11.4046 0.600851L0.841533 8.81199C0.565812 9.02567 0.348356 9.28497 0.203511 9.57279C0.058666 9.86061 -0.010276 10.1704 0.00123736 10.4817C0.0127507 10.7931 0.104456 11.0988 0.270302 11.3789C0.436147 11.659 0.672364 11.9069 0.963365 12.1065L11.5264 19.2962C11.9137 19.5622 12.3846 19.7329 12.8847 19.7886C13.3849 19.8444 13.894 19.7829 14.3535 19.6113C14.8131 19.4397 15.2043 19.165 15.4823 18.8187C15.7602 18.4725 15.9135 18.0687 15.9246 17.654V2.20302C15.9246 1.77274 15.7713 1.35187 15.4836 0.992374C15.1959 0.632881 14.7864 0.350505 14.3057 0.180107C13.825 0.00970898 13.2941 -0.0412552 12.7785 0.0335153C12.2629 0.108286 11.7853 0.305517 11.4046 0.600851Z").attr("fill",p).attr("transform","translate( ".concat(s,", ").concat(x-9*w,") scale(").concat(w,")")).on("mouseover",(function(){return Z.Ys("#arrowI").style("cursor","pointer")})).on("mousedown",(function(){v.setTime(v.getTime()-g),n({fecha:[v.getUTCDate(),v.getUTCMonth()+1,v.getUTCFullYear()]})})).on("mouseout",(function(){Z.Ys("#cir".concat(2)).style("fill",p)}));var P=a?5:4,k=function(t,e){!function(t,e){d.append("circle").attr("id","cir".concat(e)).attr("cx",b(t.getTime())).attr("cy",x).attr("r",m).style("fill",f)}(t,e),function(t,e){d.append("text").attr("id","text".concat(e)).attr("x",b(t.getTime())-"".concat(h(t)).length*(a?7:o?5:4)).attr("y",x+P).attr("fill",p).text("".concat((0,G.r)(h(t)))).style("font-size",a?"22px":o?"16px":"12px").style("lineHeight",a?"1.5rem":o?"1.2rem":"0.8rem").style("font-weight","bold")}(t,e),function(t,e){d.append("circle").attr("id","cirSup".concat(e)).attr("cx",b(t.getTime())).attr("cy",x).attr("r",m).style("fill","transparent").on("mouseover",(function(){Z.Ys("#cirSup".concat(e)).style("cursor","pointer"),Z.Ys("#cir".concat(e)).style("fill","#46a7b8"),Z.Ys("#text".concat(e)).style("fill","white")})).on("mouseout",(function(){Z.Ys("#cir".concat(e)).style("fill",f),Z.Ys("#text".concat(e)).style("fill",p),Z.Ys("#cir".concat(2)).style("fill",p),Z.Ys("#text".concat(2)).style("fill","white")})).on("mousedown",(function(){n({fecha:[t.getUTCDate(),t.getUTCMonth()+1,t.getUTCFullYear()]})}))}(t,e)};[-2,-1,0,1,2].forEach((function(t,e){setTimeout((function(){Z.Ys("#cir".concat(2)).style("fill",p),Z.Ys("#text".concat(2)).style("fill","white")}),200);var n=new Date(v);return n.setTime(v.getTime()+g*t),k(n,e)}));var F=u(v.getUTCMonth()),S=new Date(v);S.setTime(v.getTime()+g);var A=u(S.getUTCMonth());S.setTime(v.getTime()-g);var _=u(S.getUTCMonth()),M=F===A&&F===_,L=a?35:o?30:25,I=o?M?6*F.toString().length:5*A.toString().length:M?4*F.toString().length:4*A.toString().length;d.append("text").attr("x",M?r/2-I:r/4-I).attr("y",x-L).attr("fill",p).text(F===_?F:_).style("font-size",a?"28px":o?"22px":"16px").style("lineHeight",a?"1.5rem":o?"1.2rem":"0.8rem").style("font-weight","bold"),d.append("text").attr("x",3*r/4-I).attr("y",x-L).attr("fill",p).text(M?" ":"".concat(A)).style("font-size",a?"28px":o?"22px":"16px").style("lineHeight",a?"1.5rem":o?"1.2rem":"0.8rem").style("font-weight","bold")})),(0,j.jsx)("svg",{ref:c,width:"100%",height:a?"90":o?"80":"60"})},we=n(6030),Ce=n(8512),Ze=function(){var t=(0,g.A)(),e=(0,we.I0)(),n=new Date,r=(0,G.r)(n.getUTCDate()),a=(0,G.r)(n.getUTCMonth()+1),c=n.getUTCFullYear(),l=(0,i.useState)({fecha:[r,a,c]}),s=(0,h.Z)(l,2),d=s[0],u=s[1];e((0,Ce.e)(d.fecha));var p=function(e){var n=[t.bg_blue].join(" ");return(0,j.jsxs)(o.Z,{className:[n,t.just_content_spa_bet].join(" "),children:[(0,j.jsx)(W.D,{color:"white",children:e}),(0,j.jsx)(o.Z,{py:.5,px:.5,mr:1,onClick:function(){u({fecha:[r,a,c]})},className:[t.bg_white,t.br_03,t.button,t.row].join(" "),children:(0,j.jsx)(y.g,{color:"blue",children:"Hoy"})})]})};return{timeLine:function(){return(0,j.jsxs)(o.Z,{my:1,className:t.bg_white,children:[p("Linea de tiempo"),(0,j.jsx)(be,{DateNow:d.fecha,set:u})]})},dayNow:d.fecha}},Pe=n(8277),ke=n(8025),Fe=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(){var e,n;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("interface:",JSON.parse(localStorage.getItem("idPatient"))),t.next=3,(0,Pe.e)(JSON.parse(localStorage.getItem("idPatient")));case 3:e=t.sent,n=e.data,localStorage.setItem("Data",JSON.stringify(n,null,2));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Se=function(){var t=(0,we.I0)(),e=(0,g.A)(),n=Ze(),r=n.timeLine,a=n.dayNow,h=JSON.parse(localStorage.getItem("idPatient")).id;(0,i.useEffect)((function(){Fe(),t((0,ke.p)(h)),(0,$.o)()}));var x=[{obj:(0,j.jsx)(ht,{dt:[h,a]})},{obj:(0,j.jsx)(xt,{})},{obj:(0,j.jsx)(gt.p,{})},{obj:(0,j.jsx)(re,{dt:[h,a]})},{obj:(0,j.jsx)(pe,{dt:[h,a]})},{obj:(0,j.jsx)(he,{dt:[h,a]})},{obj:(0,j.jsx)(je,{dt:[h,a]})}],v=b(g.A),y=v.tabObj,w=v.tabIndex;return document.getElementById("root").style.backgroundColor="#d1e1e5",(0,j.jsxs)("div",{id:"interface",style:{width:"100%"},children:[1===h?(0,j.jsx)(l.l_,{to:"/coc/panel/uci/home"}):(0,j.jsx)("span",{}),(0,j.jsx)(o.Z,{className:e.bg_blue,children:(0,j.jsx)(W.D,{color:"white",children:"Perfil Paciente"})}),(0,j.jsxs)(c.ZP,{container:!0,direction:"row",justifyContent:"space-evenly",spacing:1,children:[(0,j.jsx)(c.ZP,{item:!0,xs:3,children:(0,j.jsxs)(o.Z,{sx:{pr:1,py:1},children:[(0,j.jsx)(s.F,{data:[h],stl:e}),(0,j.jsx)(d.W,{data:[h],stl:e}),(0,j.jsx)(u.A,{data:[h,a],stl:e}),(0,j.jsx)(p.y,{data:[h,a],stl:e}),(0,j.jsx)(o.Z,{mt:1,children:(0,j.jsxs)(c.ZP,{container:!0,spacing:2,children:[(0,j.jsx)(c.ZP,{item:!0,xs:6,children:(0,j.jsx)(f.S,{data:[h,a],stl:e})}),(0,j.jsx)(c.ZP,{item:!0,xs:6,children:(0,j.jsx)(m.y,{data:[h,a],stl:e})})]})})]})}),(0,j.jsx)(c.ZP,{item:!0,xs:9,children:(0,j.jsxs)(o.Z,{lg:{pl:1},children:[y(),r(),x[w].obj]})})]})]})}}}]);
//# sourceMappingURL=894.6ace80f9.chunk.js.map